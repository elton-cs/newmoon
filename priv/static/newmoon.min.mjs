var p=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},Qt=class{static fromArray(t,r){let n=r||new v;for(let i=t.length-1;i>=0;--i)n=new it(t[i],n);return n}[Symbol.iterator](){return new Ti(this)}toArray(){return[...this]}atLeastLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return r!==void 0}hasLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return t===-1&&r instanceof v}countLength(){let t=this,r=0;for(;t;)t=t.tail,r++;return r-1}};function $(e,t){return new it(e,t)}function l(e,t){return Qt.fromArray(e,t)}var Ti=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof v)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},v=class extends Qt{},it=class extends Qt{constructor(t,r){super(),this.head=t,this.tail=r}},mn=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,r,n){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=r??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=n??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return dn(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let r=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<r;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let n=this.bitSize%8;if(n){let i=8-n;if(this.rawBuffer[r]>>i!==t.rawBuffer[r]>>i)return!1}}else{for(let i=0;i<r;i++){let o=dn(this.rawBuffer,this.bitOffset,i),s=dn(t.rawBuffer,t.bitOffset,i);if(o!==s)return!1}let n=this.bitSize%8;if(n){let i=dn(this.rawBuffer,this.bitOffset,r),o=dn(t.rawBuffer,t.bitOffset,r),s=8-n;if(i>>s!==o>>s)return!1}}return!0}get buffer(){if(Qs("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Qs("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function dn(e,t,r){if(t===0)return e[r]??0;{let n=e[r]<<t&255,i=e[r+1]>>8-t;return n|i}}var Js={};function Qs(e,t){Js[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),Js[e]=!0)}var Ur=class e extends p{static isResult(t){return t instanceof e}},M=class extends Ur{constructor(t){super(),this[0]=t}isOk(){return!0}},q=class extends Ur{constructor(t){super(),this[0]=t}isOk(){return!1}};function se(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!eo(n)||!eo(i)||!Va(n,i)||La(n,i)||Ua(n,i)||Pa(n,i)||qa(n,i)||Fa(n,i)||Ha(n,i))return!1;let s=Object.getPrototypeOf(n);if(s!==null&&typeof s.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[a,c]=za(n);for(let f of a(n))r.push(c(n,f),c(i,f))}return!0}function za(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function La(e,t){return e instanceof Date&&(e>t||e<t)}function Ua(e,t){return!(e instanceof mn)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Pa(e,t){return Array.isArray(e)&&e.length!==t.length}function qa(e,t){return e instanceof Map&&e.size!==t.size}function Fa(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function Ha(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function eo(e){return typeof e=="object"&&e!==null}function Va(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function Ai(e,t,r,n,i,o,s){let a=new globalThis.Error(o);a.gleam_error=e,a.file=t,a.module=r,a.line=n,a.function=i,a.fn=i;for(let c in s)a[c]=s[c];return a}var G=class extends p{constructor(t){super(),this[0]=t}},R=class extends p{};var ro=new WeakMap,Ci=new DataView(new ArrayBuffer(8)),ji=0;function Oi(e){let t=ro.get(e);if(t!==void 0)return t;let r=ji++;return ji===2147483647&&(ji=0),ro.set(e,r),r}function Ii(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Bi(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function io(e){Ci.setFloat64(0,e);let t=Ci.getInt32(0),r=Ci.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function Ga(e){return Bi(e.toString())}function Ya(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Oi(e);if(e instanceof Date)return io(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+st(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+st(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+Ii(st(n),st(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let o=n[i],s=e[o];r=r+Ii(st(s),Bi(o))|0}}return r}function st(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return io(e);case"string":return Bi(e);case"bigint":return Ga(e);case"object":return Ya(e);case"symbol":return Oi(e);case"function":return Oi(e);default:return 0}}var wt=5,Ri=Math.pow(2,wt),Ka=Ri-1,Wa=Ri/2,Xa=Ri/4,Ue=0,gt=1,Ze=2,mr=3,Mi={type:Ze,bitmap:0,array:[]};function hn(e,t){return e>>>t&Ka}function zn(e,t){return 1<<hn(e,t)}function Za(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Di(e,t){return Za(e&t-1)}function ot(e,t,r){let n=e.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=e[o];return i[t]=r,i}function Ja(e,t,r){let n=e.length,i=new Array(n+1),o=0,s=0;for(;o<t;)i[s++]=e[o++];for(i[s++]=r;o<n;)i[s++]=e[o++];return i}function Ni(e,t){let r=e.length,n=new Array(r-1),i=0,o=0;for(;i<t;)n[o++]=e[i++];for(++i;i<r;)n[o++]=e[i++];return n}function so(e,t,r,n,i,o){let s=st(t);if(s===n)return{type:mr,hash:s,array:[{type:Ue,k:t,v:r},{type:Ue,k:i,v:o}]};let a={val:!1};return bn(zi(Mi,e,s,t,r,a),e,n,i,o,a)}function bn(e,t,r,n,i,o){switch(e.type){case gt:return Qa(e,t,r,n,i,o);case Ze:return zi(e,t,r,n,i,o);case mr:return eu(e,t,r,n,i,o)}}function Qa(e,t,r,n,i,o){let s=hn(r,t),a=e.array[s];if(a===void 0)return o.val=!0,{type:gt,size:e.size+1,array:ot(e.array,s,{type:Ue,k:n,v:i})};if(a.type===Ue)return se(n,a.k)?i===a.v?e:{type:gt,size:e.size,array:ot(e.array,s,{type:Ue,k:n,v:i})}:(o.val=!0,{type:gt,size:e.size,array:ot(e.array,s,so(t+wt,a.k,a.v,r,n,i))});let c=bn(a,t+wt,r,n,i,o);return c===a?e:{type:gt,size:e.size,array:ot(e.array,s,c)}}function zi(e,t,r,n,i,o){let s=zn(r,t),a=Di(e.bitmap,s);if((e.bitmap&s)!==0){let c=e.array[a];if(c.type!==Ue){let _=bn(c,t+wt,r,n,i,o);return _===c?e:{type:Ze,bitmap:e.bitmap,array:ot(e.array,a,_)}}let f=c.k;return se(n,f)?i===c.v?e:{type:Ze,bitmap:e.bitmap,array:ot(e.array,a,{type:Ue,k:n,v:i})}:(o.val=!0,{type:Ze,bitmap:e.bitmap,array:ot(e.array,a,so(t+wt,f,c.v,r,n,i))})}else{let c=e.array.length;if(c>=Wa){let f=new Array(32),_=hn(r,t);f[_]=zi(Mi,t+wt,r,n,i,o);let b=0,w=e.bitmap;for(let E=0;E<32;E++){if((w&1)!==0){let d=e.array[b++];f[E]=d}w=w>>>1}return{type:gt,size:c+1,array:f}}else{let f=Ja(e.array,a,{type:Ue,k:n,v:i});return o.val=!0,{type:Ze,bitmap:e.bitmap|s,array:f}}}}function eu(e,t,r,n,i,o){if(r===e.hash){let s=Li(e,n);if(s!==-1)return e.array[s].v===i?e:{type:mr,hash:r,array:ot(e.array,s,{type:Ue,k:n,v:i})};let a=e.array.length;return o.val=!0,{type:mr,hash:r,array:ot(e.array,a,{type:Ue,k:n,v:i})}}return bn({type:Ze,bitmap:zn(e.hash,t),array:[e]},t,r,n,i,o)}function Li(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(se(t,e.array[n].k))return n;return-1}function Dn(e,t,r,n){switch(e.type){case gt:return tu(e,t,r,n);case Ze:return ru(e,t,r,n);case mr:return nu(e,n)}}function tu(e,t,r,n){let i=hn(r,t),o=e.array[i];if(o!==void 0){if(o.type!==Ue)return Dn(o,t+wt,r,n);if(se(n,o.k))return o}}function ru(e,t,r,n){let i=zn(r,t);if((e.bitmap&i)===0)return;let o=Di(e.bitmap,i),s=e.array[o];if(s.type!==Ue)return Dn(s,t+wt,r,n);if(se(n,s.k))return s}function nu(e,t){let r=Li(e,t);if(!(r<0))return e.array[r]}function Ui(e,t,r,n){switch(e.type){case gt:return iu(e,t,r,n);case Ze:return su(e,t,r,n);case mr:return ou(e,n)}}function iu(e,t,r,n){let i=hn(r,t),o=e.array[i];if(o===void 0)return e;let s;if(o.type===Ue){if(!se(o.k,n))return e}else if(s=Ui(o,t+wt,r,n),s===o)return e;if(s===void 0){if(e.size<=Xa){let a=e.array,c=new Array(e.size-1),f=0,_=0,b=0;for(;f<i;){let w=a[f];w!==void 0&&(c[_]=w,b|=1<<f,++_),++f}for(++f;f<a.length;){let w=a[f];w!==void 0&&(c[_]=w,b|=1<<f,++_),++f}return{type:Ze,bitmap:b,array:c}}return{type:gt,size:e.size-1,array:ot(e.array,i,s)}}return{type:gt,size:e.size,array:ot(e.array,i,s)}}function su(e,t,r,n){let i=zn(r,t);if((e.bitmap&i)===0)return e;let o=Di(e.bitmap,i),s=e.array[o];if(s.type!==Ue){let a=Ui(s,t+wt,r,n);return a===s?e:a!==void 0?{type:Ze,bitmap:e.bitmap,array:ot(e.array,o,a)}:e.bitmap===i?void 0:{type:Ze,bitmap:e.bitmap^i,array:Ni(e.array,o)}}return se(n,s.k)?e.bitmap===i?void 0:{type:Ze,bitmap:e.bitmap^i,array:Ni(e.array,o)}:e}function ou(e,t){let r=Li(e,t);if(r<0)return e;if(e.array.length!==1)return{type:mr,hash:e.hash,array:Ni(e.array,r)}}function oo(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let o=r[i];if(o!==void 0){if(o.type===Ue){t(o.v,o.k);continue}oo(o,t)}}}var Ct=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let o=r[i];n=n.set(o,t[o])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=Dn(this.root,0,st(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?Mi:this.root,o=bn(i,0,st(t),t,r,n);return o===this.root?this:new e(o,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=Ui(this.root,0,st(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:Dn(this.root,0,st(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){oo(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+Ii(st(r),st(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((r,n)=>{if(!se(t.get(n,!r),r))throw no}),!0}catch(r){if(r===no)return!1;throw r}}},no=Symbol();var $e=class extends p{},xe=class extends p{},er=class extends p{};function xn(e,t){return e<t?e:t}var Ee=class extends p{},hr=class extends p{};function fu(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;e=r.tail,t=n+1}}function ge(e){return fu(e,0)}function gn(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;{let i=r.head;e=r.tail,t=$(i,n)}}}function oe(e){return gn(e,l([]))}function Ye(e){return se(e,l([]))}function _u(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return oe(o);{let s=n.head,a=n.tail,c;i(s)?c=$(s,o):c=o;let _=c;e=a,t=i,r=_}}}function qi(e,t){return _u(e,t,l([]))}function pu(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return oe(o);{let s=n.head;e=n.tail,t=i,r=$(i(s),o)}}}function Je(e,t){return pu(e,t,l([]))}function du(e,t,r,n){for(;;){let i=e,o=t,s=r,a=n;if(i instanceof v)return oe(a);{let c=i.head,f=i.tail,_=$(o(c,s),a);e=f,t=o,r=s+1,n=_}}}function wn(e,t){return du(e,t,0,l([]))}function fo(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r instanceof v)return l([]);e=r.tail,t=n-1}}function mu(e,t,r){for(;;){let n=e,i=t,o=r;if(i<=0)return oe(o);if(n instanceof v)return oe(o);{let a=n.head;e=n.tail,t=i-1,r=$(a,o)}}}function _o(e,t){return mu(e,t,l([]))}function hu(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;{let i=r.head;e=r.tail,t=$(i,n)}}}function Z(e,t){return hu(oe(e),t)}function Ke(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return i;{let s=n.head;e=n.tail,t=o(i,s),r=o}}}function bu(e,t,r,n){for(;;){let i=e,o=t,s=r,a=n;if(i instanceof v)return o;{let c=i.head;e=i.tail,t=s(o,c,a),r=s,n=a+1}}}function po(e,t,r){return bu(e,t,r,0)}function mo(e,t){for(;;){let r=e,n=t;if(r instanceof v)return new q(void 0);{let i=r.head,o=r.tail;if(n(i))return new M(i);e=o,t=n}}}function ho(e,t){for(;;){let r=e,n=t;if(r instanceof v)return!1;{let i=r.head,o=r.tail;if(n(i))return!0;e=o,t=n}}}function $u(e,t,r,n,i,o){for(;;){let s=e,a=t,c=r,f=n,_=i,b=o,w=$(_,c);if(s instanceof v)return f instanceof Ee?$(oe(w),b):$(w,b);{let E=s.head,d=s.tail,T=a(_,E);if(f instanceof Ee)if(T instanceof $e)e=d,t=a,r=w,n=f,i=E,o=b;else if(T instanceof xe)e=d,t=a,r=w,n=f,i=E,o=b;else{let m;f instanceof Ee?m=$(oe(w),b):m=$(w,b);let S=m;if(d instanceof v)return $(l([E]),S);{let g=d.head,I=d.tail,k,h=a(E,g);h instanceof $e?k=new Ee:h instanceof xe?k=new Ee:k=new hr;let y=k;e=I,t=a,r=l([E]),n=y,i=g,o=S}}else if(T instanceof $e){let m;f instanceof Ee?m=$(oe(w),b):m=$(w,b);let S=m;if(d instanceof v)return $(l([E]),S);{let g=d.head,I=d.tail,k,h=a(E,g);h instanceof $e?k=new Ee:h instanceof xe?k=new Ee:k=new hr;let y=k;e=I,t=a,r=l([E]),n=y,i=g,o=S}}else if(T instanceof xe){let m;f instanceof Ee?m=$(oe(w),b):m=$(w,b);let S=m;if(d instanceof v)return $(l([E]),S);{let g=d.head,I=d.tail,k,h=a(E,g);h instanceof $e?k=new Ee:h instanceof xe?k=new Ee:k=new hr;let y=k;e=I,t=a,r=l([E]),n=y,i=g,o=S}}else e=d,t=a,r=w,n=f,i=E,o=b}}}function xu(e,t,r,n){for(;;){let i=e,o=t,s=r,a=n;if(i instanceof v)return gn(o,a);if(o instanceof v)return gn(i,a);{let c=i.head,f=i.tail,_=o.head,b=o.tail,w=s(c,_);w instanceof $e?(e=f,t=o,r=s,n=$(c,a)):w instanceof xe?(e=i,t=b,r=s,n=$(_,a)):(e=i,t=b,r=s,n=$(_,a))}}}function gu(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return oe(o);{let s=n.tail;if(s instanceof v){let a=n.head;return oe($(oe(a),o))}else{let a=n.head,c=s.head,f=s.tail,_=xu(a,c,i,l([]));e=f,t=i,r=$(_,o)}}}}function wu(e,t,r,n){for(;;){let i=e,o=t,s=r,a=n;if(i instanceof v)return gn(o,a);if(o instanceof v)return gn(i,a);{let c=i.head,f=i.tail,_=o.head,b=o.tail,w=s(c,_);w instanceof $e?(e=i,t=b,r=s,n=$(_,a)):w instanceof xe?(e=f,t=o,r=s,n=$(c,a)):(e=f,t=o,r=s,n=$(c,a))}}}function yu(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return oe(o);{let s=n.tail;if(s instanceof v){let a=n.head;return oe($(oe(a),o))}else{let a=n.head,c=s.head,f=s.tail,_=wu(a,c,i,l([]));e=f,t=i,r=$(_,o)}}}}function vu(e,t,r){for(;;){let n=e,i=t,o=r;if(n instanceof v)return l([]);if(i instanceof Ee){if(n.tail instanceof v)return n.head;e=gu(n,o,l([])),t=new hr,r=o}else if(n.tail instanceof v){let a=n.head;return oe(a)}else e=yu(n,o,l([])),t=new Ee,r=o}}function bo(e,t){if(e instanceof v)return l([]);{let r=e.tail;if(r instanceof v){let n=e.head;return l([n])}else{let n=e.head,i=r.head,o=r.tail,s,a=t(n,i);a instanceof $e?s=new Ee:a instanceof xe?s=new Ee:s=new hr;let c=s,f=$u(o,t,l([n]),c,i,l([]));return vu(f,new Ee,t)}}}function Ou(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;{let i=r.head;e=r.tail,t=n+i}}}function Pr(e){return Ou(e,"")}var xr=class extends p{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}},tr=class extends p{constructor(t){super(),this.function=t}};function gr(e,t){let r=t.function(e),n=r[0],i=r[1];return i instanceof v?new M(n):new q(i)}function Un(e){return new tr(t=>[e,l([])])}function Pn(e,t){return new tr(r=>{let n=e.function(r),i=n[0],o=n[1];return[t(i),o]})}function Du(e,t,r){for(;;){let n=e,i=t,o=r;if(o instanceof v)return i;{let s=o.head,a=o.tail,c=s.function(n),f=c;if(c[1]instanceof v)return f;e=n,t=i,r=a}}}function xo(e,t){return new tr(r=>{let n=e.function(r),i=n;return n[1]instanceof v?i:Du(r,i,t)})}function go(e,t,r){let n=r(e);return n instanceof M?[n[0],l([])]:[n[0],l([new xr(t,qr(e),l([]))])]}function zu(e){return go(e,"Int",ko)}var wo=new tr(zu);function Lu(e){return go(e,"String",Eo)}var qn=new tr(Lu);function Hi(e,t){let r=xo(qn,l([Pn(wo,L)])),n=Je(t,o=>{let s=o,a=gr(s,r);return a instanceof M?a[0]:"<"+qr(s)+">"}),i=Je(e[1],o=>{let s=o;return new xr(s.expected,s.found,Z(n,o.path))});return[e[0],i]}function Uu(e,t,r,n,i){for(;;){let o=e,s=t,a=r,c=n,f=i;if(o instanceof v){let _=a(c);return Hi(_,oe(s))}else{let _=o.head,b=o.tail,w=vo(c,_);if(w instanceof M){let E=w[0];if(E instanceof G){let d=E[0];e=b,t=$(_,s),r=a,n=d,i=f}else return f(c,$(_,s))}else{let E=w[0],m=[a(c)[0],l([new xr(E,qr(c),l([]))])];return Hi(m,oe(s))}}}}function yo(e,t,r){return new tr(n=>{let i=Uu(e,l([]),t.function,n,(_,b)=>{let d=[t.function(_)[0],l([new xr("Field","Nothing",l([]))])];return Hi(d,oe(b))}),o=i[0],s=i[1],a=r(o).function(n),c=a[0],f=a[1];return[c,Z(s,f)]})}var Co=void 0,Ao={};function Pi(e){return/^[-+]?(\d+)$/.test(e)?new M(parseInt(e)):new q(Co)}function L(e){return e.toString()}function Fi(e,t){return e.startsWith(t)}var jo=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Rp=new RegExp(`^[${jo}]*`),Mp=new RegExp(`[${jo}]*$`);function yn(){return Ct.new()}function vn(e,t){let r=e.get(t,Ao);return r===Ao?new q(Co):new M(r)}function Oo(e,t,r){return r.set(e,t)}function qr(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Ur)return"Result";if(e instanceof Qt)return"List";if(e instanceof mn)return"BitArray";if(e instanceof Ct)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return"Array";if(typeof e=="number")return"Float";if(e===null)return"Nil";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function vo(e,t){if(e instanceof Ct||e instanceof WeakMap||e instanceof Map){let n={},i=e.get(t,n);return i===n?new M(new R):new M(new G(i))}let r=Number.isInteger(t);if(r&&t>=0&&t<8&&e instanceof Qt){let n=0;for(let i of e){if(n===t)return new M(new G(i));n++}return new q("Indexable")}return r&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new M(new G(e[t])):new M(new R):new q(r?"Indexable":"Dict")}function ko(e){return Number.isInteger(e)?new M(e):new q(0)}function Eo(e){return typeof e=="string"?new M(e):new q("")}function kn(e,t,r){return Oo(t,r,e)}function Io(e,t,r){return e?t:r()}function We(e){return e}function No(e){return e instanceof M}function Gi(e){return e}var Vn=class extends p{constructor(t){super(),this.dict=t}};function Ro(){return new Vn(yn())}function Yi(e,t){let r=e.dict,n=vn(r,t);return No(n)}var Gu=void 0;function Mo(e,t){return new Vn(kn(e.dict,t,Gu))}var Ku=Ct.new();function Gn(){return Ku}var Wu=Ro();function Sn(){return Wu}var _t=globalThis?.document,Yn="http://www.w3.org/1999/xhtml",Kn=1,Wn=3,Xn=11,Do=!!globalThis.HTMLElement?.prototype?.moveBefore;var F=l([]),Zn=new R;var Xu=new er,Zu=new $e,Ju=new xe;function Qn(e,t){return e.name===t.name?Ju:e.name<t.name?Zu:Xu}var pt=class extends p{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},Hr=class extends p{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},Pe=class extends p{constructor(t,r,n,i,o,s,a,c,f){super(),this.kind=t,this.name=r,this.handler=n,this.include=i,this.prevent_default=o,this.stop_propagation=s,this.immediate=a,this.debounce=c,this.throttle=f}};function rc(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;{let i=r.head;if(i instanceof pt){let o=i.name;if(o==="")e=r.tail,t=n;else if(o==="class"){let s=i.value;if(s==="")e=r.tail,t=n;else{let a=r.tail;if(a instanceof v){let c=i;e=a,t=$(c,n)}else{let c=a.head;if(c instanceof pt)if(c.name==="class"){let _=i.kind,b=s,w=a.tail,E=c.value,d=b+" "+E,T=new pt(_,"class",d);e=$(T,w),t=n}else{let _=i;e=a,t=$(_,n)}else{let f=i;e=a,t=$(f,n)}}}}else if(o==="style"){let s=i.value;if(s==="")e=r.tail,t=n;else{let a=r.tail;if(a instanceof v){let c=i;e=a,t=$(c,n)}else{let c=a.head;if(c instanceof pt)if(c.name==="style"){let _=i.kind,b=s,w=a.tail,E=c.value,d=b+";"+E,T=new pt(_,"style",d);e=$(T,w),t=n}else{let _=i;e=a,t=$(_,n)}else{let f=i;e=a,t=$(f,n)}}}}else{let s=i;e=r.tail,t=$(s,n)}}else{let o=i;e=r.tail,t=$(o,n)}}}}function Go(e){if(e instanceof v)return e;if(e.tail instanceof v)return e;{let n=bo(e,(i,o)=>Qn(o,i));return rc(n,F)}}var Wi=0;function Yo(e,t){return new pt(Wi,e,t)}var Xi=1;function Ko(e,t){return new Hr(Xi,e,t)}var Zi=2;function Wo(e,t,r,n,i,o,s,a){return new Pe(Zi,e,t,r,n,i,o,s,a)}function dt(e,t){return Yo(e,t)}function Xo(e,t){return Ko(e,t)}function sc(e,t){return t?dt(e,""):Xo(e,Gi(!1))}function A(e){return dt("class",e)}function Zo(e){return dt("id",e)}function Jo(e){return sc("disabled",e)}function Qo(e){return dt("for",e)}function el(e){return dt("min",e)}function tl(e){return dt("placeholder",e)}function rl(e){return dt("type",e)}function nl(e){return dt("value",e)}var Ji=class extends p{constructor(t,r,n){super(),this.synchronous=t,this.before_paint=r,this.after_paint=n}};var oc=new Ji(l([]),l([]),l([]));function Qi(){return oc}function Qe(){return null}function Vr(e,t){let r=e?.get(t);return r!=null?new M(r):new q(void 0)}function Gr(e,t,r){return e??=new Map,e.set(t,r),e}function ts(e,t){return e?.delete(t),e}var ti=class extends p{},ri=class extends p{constructor(t,r){super(),this.key=t,this.parent=r}},rs=class extends p{constructor(t,r){super(),this.index=t,this.parent=r}};function lc(e,t){for(;;){let r=e,n=t;if(n instanceof v)return!1;{let i=n.head,o=n.tail;if(Fi(r,i))return!0;e=r,t=o}}}function rr(e,t,r){return r===""?new rs(t,e):new ri(r,e)}var ns=new ti,is=`
`,ss="	";function sl(e,t){for(;;){let r=e,n=t;if(r instanceof ti){if(n instanceof v)return"";{let i=n.tail;return Pr(i)}}else if(r instanceof ri){let i=r.key;e=r.parent,t=$(ss,$(i,n))}else{let i=r.index;e=r.parent,t=$(is,$(L(i),n))}}}function ac(e){return sl(e,l([]))}function ol(e,t){return t instanceof v?!1:lc(ac(e),t)}var os="\f";function ls(e,t){return sl(e,l([os,t]))}var ze=class extends p{constructor(t,r,n,i,o,s){super(),this.kind=t,this.key=r,this.mapper=n,this.children=i,this.keyed_children=o,this.children_count=s}},lt=class extends p{constructor(t,r,n,i,o,s,a,c,f,_){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=o,this.attributes=s,this.children=a,this.keyed_children=c,this.self_closing=f,this.void=_}},at=class extends p{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.mapper=n,this.content=i}},Yr=class extends p{constructor(t,r,n,i,o,s,a){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=o,this.attributes=s,this.inner_html=a}};function fc(e,t){return t===""?e==="area"||e==="base"||e==="br"||e==="col"||e==="embed"||e==="hr"||e==="img"||e==="input"||e==="link"||e==="meta"||e==="param"||e==="source"||e==="track"?!0:e==="wbr":!1}function de(e){return e instanceof ze?1+e.children_count:1}var as=0;function al(e,t,r,n,i){return new ze(as,e,t,r,n,i)}var us=1;function cs(e,t,r,n,i,o,s,a,c){return new lt(us,e,t,r,n,Go(i),o,s,a,c||fc(n,r))}var fs=2;function _s(e,t,r){return new at(fs,e,t,r)}var ul=3;function cl(e,t,r,n,i){for(;;){let o=e,s=t,a=r,c=n,f=i;if(s instanceof v)return[oe(c),f];{let _=s.head;if(_ instanceof ze){let b=_;if(b.key===""){let w=s.tail,E=o+"::"+L(a),d=cl(E,b.children,0,F,Qe()),T=d[0],m=d[1],S,g=b;S=new ze(g.kind,g.key,g.mapper,T,m,g.children_count);let k=$(S,c),h=a+1;e=o,t=w,r=h,n=k,i=f}else{let w=_;if(w.key!==""){let E=s.tail,d=o+"::"+w.key,T=ni(d,w),m=$(T,c),S=Gr(f,d,T),g=a+1;e=o,t=E,r=g,n=m,i=S}else{let E=_,d=s.tail,T=$(E,c),m=a+1;e=o,t=d,r=m,n=T,i=f}}}else{let b=_;if(b.key!==""){let w=s.tail,E=o+"::"+b.key,d=ni(E,b),T=$(d,c),m=Gr(f,E,d),S=a+1;e=o,t=w,r=S,n=T,i=m}else{let w=_,E=s.tail,d=$(w,c),T=a+1;e=o,t=E,r=T,n=d,i=f}}}}}function ni(e,t){if(t instanceof ze){let r=t.children,n=cl(e,r,0,F,Qe()),i=n[0],o=n[1],s=t;return new ze(s.kind,e,s.mapper,i,o,s.children_count)}else if(t instanceof lt){let r=t;return new lt(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.children,r.keyed_children,r.self_closing,r.void)}else if(t instanceof at){let r=t;return new at(r.kind,e,r.mapper,r.content)}else{let r=t;return new Yr(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.inner_html)}}var Kr=class extends p{constructor(t,r,n,i){super(),this.index=t,this.removed=r,this.changes=n,this.children=i}},ps=class extends p{constructor(t,r){super(),this.kind=t,this.content=r}},ds=class extends p{constructor(t,r){super(),this.kind=t,this.inner_html=r}},ms=class extends p{constructor(t,r,n){super(),this.kind=t,this.added=r,this.removed=n}},hs=class extends p{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.before=n,this.count=i}},bs=class extends p{constructor(t,r,n){super(),this.kind=t,this.key=r,this.count=n}},$s=class extends p{constructor(t,r,n,i){super(),this.kind=t,this.from=r,this.count=n,this.with=i}},xs=class extends p{constructor(t,r,n){super(),this.kind=t,this.children=r,this.before=n}},gs=class extends p{constructor(t,r,n){super(),this.kind=t,this.from=r,this.count=n}};function ws(e,t,r,n){return new Kr(e,t,r,n)}var ys=0;function fl(e){return new ps(ys,e)}var vs=1;function _l(e){return new ds(vs,e)}var ks=2;function Cn(e,t){return new ms(ks,e,t)}var ii=3;function pl(e,t,r){return new hs(ii,e,t,r)}var Es=4;function dl(e,t){return new bs(Es,e,t)}var si=5;function wr(e,t,r){return new $s(si,e,t,r)}var oi=6;function Ss(e,t){return new xs(oi,e,t)}var li=7;function ml(e,t){return new gs(li,e,t)}var ui=class extends p{constructor(t,r){super(),this.patch=t,this.events=r}},Ts=class extends p{constructor(t,r,n){super(),this.added=t,this.removed=r,this.events=n}};function pc(e,t,r,n){return r==="input"?t===""?ai(e,n):!1:r==="select"?t===""?ai(e,n):!1:r==="textarea"&&t===""?ai(e,n):!1}function bl(e,t,r,n,i,o,s,a){for(;;){let c=e,f=t,_=r,b=n,w=i,E=o,d=s,T=a;if(E instanceof v){if(w instanceof v)return new Ts(d,T,b);{let m=w.head;if(m instanceof Pe){let S=m,g=w.tail,I=m.name,k=$(S,T),h=jn(b,f,I);e=c,t=f,r=_,n=h,i=g,o=E,s=d,a=k}else{let S=m,g=w.tail,I=$(S,T);e=c,t=f,r=_,n=b,i=g,o=E,s=d,a=I}}}else if(w instanceof v){let m=E.head;if(m instanceof Pe){let S=m,g=E.tail,I=m.name,k=m.handler,h=$(S,d),y=On(b,_,f,I,k);e=c,t=f,r=_,n=y,i=w,o=g,s=h,a=T}else{let S=m,g=E.tail,I=$(S,d);e=c,t=f,r=_,n=b,i=w,o=g,s=I,a=T}}else{let m=E.head,S=E.tail,g=w.head,I=w.tail,k=Qn(g,m);if(k instanceof $e)if(g instanceof Pe){let h=g.name,y=$(g,T),u=jn(b,f,h);e=c,t=f,r=_,n=u,i=I,o=E,s=d,a=y}else{let h=$(g,T);e=c,t=f,r=_,n=b,i=I,o=E,s=d,a=h}else if(k instanceof xe)if(m instanceof pt)if(g instanceof pt){let h,y=m.name;y==="value"||y==="checked"||y==="selected"?h=c||g.value!==m.value:h=g.value!==m.value;let u=h,x;u?x=$(m,d):x=d;let N=x;e=c,t=f,r=_,n=b,i=I,o=S,s=N,a=T}else if(g instanceof Pe){let h=g.name,y=$(m,d),u=$(g,T),x=jn(b,f,h);e=c,t=f,r=_,n=x,i=I,o=S,s=y,a=u}else{let h=$(m,d),y=$(g,T);e=c,t=f,r=_,n=b,i=I,o=S,s=h,a=y}else if(m instanceof Hr)if(g instanceof Hr){let h,y=m.name;y==="scrollLeft"||y==="scrollRight"?h=!0:y==="value"?h=c||!se(g.value,m.value):y==="checked"?h=c||!se(g.value,m.value):y==="selected"?h=c||!se(g.value,m.value):h=!se(g.value,m.value);let u=h,x;u?x=$(m,d):x=d;let N=x;e=c,t=f,r=_,n=b,i=I,o=S,s=N,a=T}else if(g instanceof Pe){let h=g.name,y=$(m,d),u=$(g,T),x=jn(b,f,h);e=c,t=f,r=_,n=x,i=I,o=S,s=y,a=u}else{let h=$(m,d),y=$(g,T);e=c,t=f,r=_,n=b,i=I,o=S,s=h,a=y}else if(g instanceof Pe){let h=m.name,y=m.handler,u=g.prevent_default!==m.prevent_default||g.stop_propagation!==m.stop_propagation||g.immediate!==m.immediate||g.debounce!==m.debounce||g.throttle!==m.throttle,x;u?x=$(m,d):x=d;let N=x,C=On(b,_,f,h,y);e=c,t=f,r=_,n=C,i=I,o=S,s=N,a=T}else{let h=m.name,y=m.handler,u=$(m,d),x=$(g,T),N=On(b,_,f,h,y);e=c,t=f,r=_,n=N,i=I,o=S,s=u,a=x}else if(m instanceof Pe){let h=m.name,y=m.handler,u=$(m,d),x=On(b,_,f,h,y);e=c,t=f,r=_,n=x,i=w,o=S,s=u,a=T}else{let h=$(m,d);e=c,t=f,r=_,n=b,i=w,o=S,s=h,a=T}}}}function As(e,t,r,n,i,o,s,a,c,f,_,b,w,E){for(;;){let d=e,T=t,m=r,S=n,g=i,I=o,k=s,h=a,y=c,u=f,x=_,N=b,C=w,B=E;if(m instanceof v){if(d instanceof v)return new ui(new Kr(y,k,x,N),B);{let ve=d.head,Xe=d.tail,pe;ve.key===""||!Yi(g,ve.key)?pe=k+de(ve):pe=k;let U=pe,ce=Ot(B,u,h,ve);e=Xe,t=T,r=m,n=S,i=g,o=I,s=U,a=h,c=y,f=u,_=x,b=N,w=C,E=ce}}else if(d instanceof v){let ve=xl(B,C,u,h,m),Xe=Ss(m,h-I),pe=$(Xe,x);return new ui(new Kr(y,k,pe,N),ve)}else{let ve=m.head,Xe=d.head;if(Xe.key!==ve.key){let pe=m.tail,fe=d.tail,U=Vr(T,ve.key),ce=Vr(S,Xe.key),X=Yi(g,Xe.key);if(U instanceof M)if(ce instanceof M)if(X)e=fe,t=T,r=m,n=S,i=g,o=I-de(Xe),s=k,a=h,c=y,f=u,_=x,b=N,w=C,E=B;else{let ee=U[0],V=de(ve),K=h-I,Q=pl(ve.key,K,V),W=$(Q,x),ne=Mo(g,ve.key),ie=I+V;e=$(ee,d),t=T,r=m,n=S,i=ne,o=ie,s=k,a=h,c=y,f=u,_=W,b=N,w=C,E=B}else{let ee=de(Xe),V=I-ee,K=Ot(B,u,h,Xe),Q=dl(Xe.key,ee),W=$(Q,x);e=fe,t=T,r=m,n=S,i=g,o=V,s=k,a=h,c=y,f=u,_=W,b=N,w=C,E=K}else if(ce instanceof M){let ee=h-I,V=de(ve),K=nr(B,C,u,h,ve),Q=Ss(l([ve]),ee),W=$(Q,x);e=d,t=T,r=pe,n=S,i=g,o=I+V,s=k,a=h+V,c=y,f=u,_=W,b=N,w=C,E=K}else{let ee=de(Xe),V=de(ve),K=wr(h-I,ee,ve),Q,ne=Ot(B,u,h,Xe);Q=nr(ne,C,u,h,ve);let ie=Q;e=fe,t=T,r=pe,n=S,i=g,o=I-ee+V,s=k,a=h+V,c=y,f=u,_=$(K,x),b=N,w=C,E=ie}}else{let pe=d.head;if(pe instanceof ze){let fe=m.head;if(fe instanceof ze){let U=fe,ce=m.tail,X=pe,ee=d.tail,V=h+1,K=X.children_count,Q=U.children_count,W=ir(C,U.mapper),ne=As(X.children,X.keyed_children,U.children,U.keyed_children,Sn(),I,0,V,-1,u,F,N,W,B),ie;if(ne.patch.removed>0){let At=V+Q-I,Zt=ml(At,ne.patch.removed);ie=Z(ne.patch.changes,$(Zt,x))}else ie=Z(ne.patch.changes,x);let ct=ie;e=ee,t=T,r=ce,n=S,i=g,o=I+Q-K,s=k,a=V+Q,c=y,f=u,_=ct,b=ne.patch.children,w=C,E=ne.events}else{let U=fe,ce=m.tail,X=pe,ee=d.tail,V=de(X),K=de(U),Q=wr(h-I,V,U),W,ie=Ot(B,u,h,X);W=nr(ie,C,u,h,U);let De=W;e=ee,t=T,r=ce,n=S,i=g,o=I-V+K,s=k,a=h+K,c=y,f=u,_=$(Q,x),b=N,w=C,E=De}}else if(pe instanceof lt){let fe=m.head;if(fe instanceof lt){let U=fe,ce=pe;if(ce.namespace===U.namespace&&ce.tag===U.tag){let X=m.tail,ee=d.tail,V=ir(C,U.mapper),K=rr(u,h,U.key),Q=pc(B,U.namespace,U.tag,K),W=bl(Q,K,V,B,ce.attributes,U.attributes,F,F),ne=W.added,ie=W.removed,De=W.events,ct;ie instanceof v?ne instanceof v?ct=F:ct=l([Cn(ne,ie)]):ct=l([Cn(ne,ie)]);let At=ct,Zt=As(ce.children,ce.keyed_children,U.children,U.keyed_children,Sn(),0,0,0,h,K,At,F,V,De),Jt,dr=Zt.patch;dr.children instanceof v?dr.changes instanceof v?dr.removed===0?Jt=N:Jt=$(Zt.patch,N):Jt=$(Zt.patch,N):Jt=$(Zt.patch,N);let Da=Jt;e=ee,t=T,r=X,n=S,i=g,o=I,s=k,a=h+1,c=y,f=u,_=x,b=Da,w=C,E=Zt.events}else{let X=fe,ee=m.tail,V=pe,K=d.tail,Q=de(V),W=de(X),ne=wr(h-I,Q,X),ie,ct=Ot(B,u,h,V);ie=nr(ct,C,u,h,X);let At=ie;e=K,t=T,r=ee,n=S,i=g,o=I-Q+W,s=k,a=h+W,c=y,f=u,_=$(ne,x),b=N,w=C,E=At}}else{let U=fe,ce=m.tail,X=pe,ee=d.tail,V=de(X),K=de(U),Q=wr(h-I,V,U),W,ie=Ot(B,u,h,X);W=nr(ie,C,u,h,U);let De=W;e=ee,t=T,r=ce,n=S,i=g,o=I-V+K,s=k,a=h+K,c=y,f=u,_=$(Q,x),b=N,w=C,E=De}}else if(pe instanceof at){let fe=m.head;if(fe instanceof at){let U=fe;if(pe.content===U.content){let X=m.tail;e=d.tail,t=T,r=X,n=S,i=g,o=I,s=k,a=h+1,c=y,f=u,_=x,b=N,w=C,E=B}else{let X=fe,ee=m.tail,V=d.tail,K=ws(h,0,l([fl(X.content)]),F);e=V,t=T,r=ee,n=S,i=g,o=I,s=k,a=h+1,c=y,f=u,_=x,b=$(K,N),w=C,E=B}}else{let U=fe,ce=m.tail,X=pe,ee=d.tail,V=de(X),K=de(U),Q=wr(h-I,V,U),W,ie=Ot(B,u,h,X);W=nr(ie,C,u,h,U);let De=W;e=ee,t=T,r=ce,n=S,i=g,o=I-V+K,s=k,a=h+K,c=y,f=u,_=$(Q,x),b=N,w=C,E=De}}else{let fe=m.head;if(fe instanceof Yr){let U=fe,ce=m.tail,X=pe,ee=d.tail,V=ir(C,U.mapper),K=rr(u,h,U.key),Q=bl(!1,K,V,B,X.attributes,U.attributes,F,F),W=Q.added,ne=Q.removed,ie=Q.events,De;ne instanceof v?W instanceof v?De=F:De=l([Cn(W,ne)]):De=l([Cn(W,ne)]);let ct=De,At;X.inner_html===U.inner_html?At=ct:At=$(_l(U.inner_html),ct);let Jt=At,dr;Jt instanceof v?dr=N:dr=$(ws(h,0,Jt,l([])),N);let Zs=dr;e=ee,t=T,r=ce,n=S,i=g,o=I,s=k,a=h+1,c=y,f=u,_=x,b=Zs,w=C,E=ie}else{let U=fe,ce=m.tail,X=pe,ee=d.tail,V=de(X),K=de(U),Q=wr(h-I,V,U),W,ie=Ot(B,u,h,X);W=nr(ie,C,u,h,U);let De=W;e=ee,t=T,r=ce,n=S,i=g,o=I-V+K,s=k,a=h+K,c=y,f=u,_=$(Q,x),b=N,w=C,E=De}}}}}}function Cs(e,t,r){return As(l([t]),Qe(),l([r]),Qe(),Sn(),0,0,0,0,ns,F,F,We,$l(e))}var fi=class{offset=0;#e=null;#s=()=>{};#a=!1;constructor(t,r,{useServerEvents:n=!1}={}){this.#e=t,this.#s=r,this.#a=n}mount(t){ci(this.#e,this.#l(this.#e,t))}#r=[];push(t){let r=this.offset;r&&(It(t.changes,n=>{switch(n.kind){case oi:case ii:n.before=(n.before|0)+r;break;case li:case si:n.from=(n.from|0)+r;break}}),It(t.children,n=>{n.index=(n.index|0)+r})),this.#r.push({node:this.#e,patch:t}),this.#o()}#o(){let t=this;for(;t.#r.length;){let{node:r,patch:n}=t.#r.pop();It(n.changes,s=>{switch(s.kind){case oi:t.#u(r,s.children,s.before);break;case ii:t.#_(r,s.key,s.before,s.count);break;case Es:t.#p(r,s.key,s.count);break;case li:t.#t(r,s.from,s.count);break;case si:t.#c(r,s.from,s.count,s.with);break;case ys:t.#i(r,s.content);break;case vs:t.#d(r,s.inner_html);break;case ks:t.#f(r,s.added,s.removed);break}}),n.removed&&t.#t(r,r.childNodes.length-n.removed,n.removed);let i=-1,o=null;It(n.children,s=>{let a=s.index|0,c=o&&i-a===1?o.previousSibling:Nn(r,a);t.#r.push({node:c,patch:s}),o=c,i=a})}}#u(t,r,n){let i=yl();It(r,o=>{let s=this.#l(t,o);ci(i,s)}),js(t,i,Nn(t,n))}#_(t,r,n,i){let o=vl(t,r),s=Nn(t,n);for(let a=0;a<i&&o!==null;++a){let c=o.nextSibling;Do?t.moveBefore(o,s):js(t,o,s),o=c}}#p(t,r,n){this.#n(t,vl(t,r),n)}#t(t,r,n){this.#n(t,Nn(t,r),n)}#n(t,r,n){for(;n-- >0&&r!==null;){let i=r.nextSibling,o=r[Ce].key;o&&t[Ce].keyedChildren.delete(o);for(let[s,{timeout:a}]of r[Ce].debouncers??[])clearTimeout(a);t.removeChild(r),r=i}}#c(t,r,n,i){this.#t(t,r,n);let o=this.#l(t,i);js(t,o,Nn(t,r))}#i(t,r){t.data=r??""}#d(t,r){t.innerHTML=r??""}#f(t,r,n){It(n,i=>{let o=i.name;t[Ce].handlers.has(o)?(t.removeEventListener(o,kl),t[Ce].handlers.delete(o),t[Ce].throttles.has(o)&&t[Ce].throttles.delete(o),t[Ce].debouncers.has(o)&&(clearTimeout(t[Ce].debouncers.get(o).timeout),t[Ce].debouncers.delete(o))):(t.removeAttribute(o),Sl[o]?.removed?.(t,o))}),It(r,i=>{this.#h(t,i)})}#l(t,r){switch(r.kind){case us:{let n=gl(t,r);return this.#m(n,r),this.#u(n,r.children,0),n}case fs:return wl(t,r);case as:{let n=yl(),i=wl(t,r);return ci(n,i),It(r.children,o=>{ci(n,this.#l(t,o))}),n}case ul:{let n=gl(t,r);return this.#m(n,r),this.#d(n,r.inner_html),n}}}#m(t,{attributes:r}){It(r,n=>this.#h(t,n))}#h(t,r){let{debouncers:n,handlers:i,throttles:o}=t[Ce],{kind:s,name:a,value:c,prevent_default:f,stop_propagation:_,immediate:b,include:w,debounce:E,throttle:d}=r;switch(s){case Wi:{let T=c??"";if(a==="virtual:defaultValue"){t.defaultValue=T;return}T!==t.getAttribute(a)&&t.setAttribute(a,T),Sl[a]?.added?.(t,c);break}case Xi:t[a]=c;break;case Zi:{if(i.has(a)||t.addEventListener(a,kl,{passive:!r.prevent_default}),d>0){let T=o.get(a)??{};T.delay=d,o.set(a,T)}else o.delete(a);if(E>0){let T=n.get(a)??{};T.delay=E,n.set(a,T)}else clearTimeout(n.get(a)?.timeout),n.delete(a);i.set(a,T=>{f&&T.preventDefault(),_&&T.stopPropagation();let m=T.type,S="",g=T.currentTarget;for(;g!==this.#e;){let y=g[Ce].key,u=g.parentNode;if(y)S=`${ss}${y}${S}`;else{let x=u.childNodes,N=[].indexOf.call(x,g);u===this.#e&&(N-=this.offset),S=`${is}${N}${S}`}g=u}S=S.slice(1);let I=this.#a?dc(T,w??[]):T,k=o.get(m);if(k){let y=Date.now(),u=k.last||0;y>u+k.delay?(k.last=y,k.lastEvent=T,this.#s(I,S,m,b)):T.preventDefault()}let h=n.get(m);h?(clearTimeout(h.timeout),h.timeout=setTimeout(()=>{T!==o.get(m)?.lastEvent&&this.#s(I,S,m,b)},h.delay)):this.#s(I,S,m,b)});break}}}},It=(e,t)=>{if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else if(e)for(e;e.tail;e=e.tail)t(e.head)},ci=(e,t)=>e.appendChild(t),js=(e,t,r)=>e.insertBefore(t,r??null),gl=(e,{key:t,tag:r,namespace:n})=>{let i=_t.createElementNS(n||Yn,r);return yr(e,i,t),i},wl=(e,{key:t,content:r})=>{let n=_t.createTextNode(r??"");return yr(e,n,t),n},yl=()=>_t.createDocumentFragment(),Nn=(e,t)=>e.childNodes[t|0],Ce=Symbol("lustre"),yr=(e,t,r="")=>{switch(t.nodeType){case Kn:case Xn:t[Ce]={key:r,keyedChildren:new Map,handlers:new Map,throttles:new Map,debouncers:new Map};break;case Wn:t[Ce]={key:r};break}e&&r&&e[Ce].keyedChildren.set(r,new WeakRef(t))};var vl=(e,t)=>e[Ce].keyedChildren.get(t).deref(),kl=e=>{let r=e.currentTarget[Ce].handlers.get(e.type);e.type==="submit"&&(e.detail??={},e.detail.formData=[...new FormData(e.target).entries()]),r(e)},dc=(e,t=[])=>{let r={};(e.type==="input"||e.type==="change")&&t.push("target.value"),e.type==="submit"&&t.push("detail.formData");for(let n of t){let i=n.split(".");for(let o=0,s=e,a=r;o<i.length;o++){if(o===i.length-1){a[i[o]]=s[i[o]];break}a=a[i[o]]??={},s=s[i[o]]}}return r},El=e=>({added(t){t[e]=!0},removed(t){t[e]=!1}}),mc=e=>({added(t,r){t[e]=r}}),Sl={checked:El("checked"),selected:El("selected"),value:mc("value"),autofocus:{added(e){queueMicrotask(()=>e.focus?.())}},autoplay:{added(e){try{e.play?.()}catch(t){console.error(t)}}}};var Cl=e=>{let t=jl(null,e);if(t===null||t.children instanceof v){let r=Tl(e);return e.appendChild(r),Ol()}else{if(t.children instanceof it&&t.children.tail instanceof v)return t.children.head;{let r=Tl(e);return e.insertBefore(r,e.firstChild),z(t.children)}}},Tl=e=>{let t=_t.createTextNode("");return yr(e,t),t},jl=(e,t)=>{switch(t.nodeType){case Kn:{let r=t.getAttribute("data-lustre-key");yr(e,t,r),r&&t.removeAttribute("data-lustre-key");let n=t.localName,i=t.namespaceURI,o=!i||i===Yn;o&&hc.includes(n)&&bc(n,t);let s=$c(t),a=Al(t),c=o?ut(n,s,a):Os(i,n,s,a);return r?ni(r,c):c}case Wn:return yr(e,t),_i(t.data);case Xn:return yr(e,t),t.childNodes.length>0?z(Al(t)):null;default:return null}},hc=["input","select","textarea"],bc=(e,t)=>{let r=t.value,n=t.checked;e==="input"&&t.type==="checkbox"&&!n||e==="input"&&t.type==="radio"&&!n||t.type!=="checkbox"&&t.type!=="radio"&&!r||queueMicrotask(()=>{t.value=r,t.checked=n,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),_t.activeElement!==t&&t.dispatchEvent(new Event("blur",{bubbles:!0}))})},Al=e=>{let t=F,r=e.lastChild;for(;r;){let n=jl(e,r),i=r.previousSibling;n?t=new it(n,t):e.removeChild(r),r=i}return t},$c=e=>{let t=e.attributes.length,r=F;for(;t-- >0;)r=new it(xc(e.attributes[t]),r);return r},xc=e=>{let t=e.localName,r=e.value;return dt(t,r)};var Rn=()=>!!_t;var Is=(e,t)=>e===t;var Bn=class{constructor(t,[r,n],i,o){this.root=t,this.#e=r,this.#s=i,this.#a=o,this.#u=new fi(this.root,(s,a,c)=>{let[f,_]=pi(this.#o,a,c,s);this.#o=f,_.isOk()&&this.dispatch(_[0],!1)}),this.#r=Cl(this.root),this.#o=Ns(),this.#i=!0,this.#f(n)}root=null;set offset(t){this.#u.offset=t}dispatch(t,r=!1){if(this.#i||=r,this.#_)this.#p.push(t);else{let[n,i]=this.#a(this.#e,t);this.#e=n,this.#f(i)}}emit(t,r){(this.root.host??this.root).dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0}))}#e;#s;#a;#r;#o;#u;#_=!1;#p=[];#t=F;#n=F;#c=null;#i=!1;#d={dispatch:(t,r)=>this.dispatch(t,r),emit:(t,r)=>this.emit(t,r),select:()=>{},root:()=>this.root};#f(t){for(this.#_=!0;;){for(let r=t.synchronous;r.tail;r=r.tail)r.head(this.#d);if(this.#t=Nl(this.#t,t.before_paint),this.#n=Nl(this.#n,t.after_paint),!this.#p.length)break;[this.#e,t]=this.#a(this.#e,this.#p.shift())}this.#_=!1,this.#i?(cancelAnimationFrame(this.#c),this.#l()):this.#c||(this.#c=requestAnimationFrame(()=>{this.#l()}))}#l(){this.#i=!1,this.#c=null;let t=this.#s(this.#e),{patch:r,events:n}=Cs(this.#o,this.#r,t);if(this.#o=n,this.#r=t,this.#u.push(r),this.#t instanceof it){let i=Il(this.#t);this.#t=F,queueMicrotask(()=>{this.#i=!0,this.#f(i)})}if(this.#n instanceof it){let i=Il(this.#n);this.#n=F,requestAnimationFrame(()=>{this.#i=!0,this.#f(i)})}}};function Il(e){return{synchronous:e,after_paint:F,before_paint:F}}function Nl(e,t){return e instanceof v?t:t instanceof v?e:Z(e,t)}var yt=class extends p{constructor(t,r,n){super(),this.handlers=t,this.dispatched_paths=r,this.next_dispatched_paths=n}};function Ns(){return new yt(Qe(),F,F)}function $l(e){return new yt(e.handlers,e.next_dispatched_paths,F)}function Dl(e,t,r){return ts(e,ls(t,r))}function jn(e,t,r){let n=Dl(e.handlers,t,r),i=e;return new yt(n,i.dispatched_paths,i.next_dispatched_paths)}function Bl(e,t,r){return Ke(r,e,(n,i)=>{if(i instanceof Pe){let o=i.name;return Dl(n,t,o)}else return n})}function pi(e,t,r,n){let i=$(t,e.next_dispatched_paths),o,s=e;o=new yt(s.handlers,s.dispatched_paths,i);let a=o,c=Vr(a.handlers,t+os+r);if(c instanceof M){let f=c[0];return[a,gr(n,f)]}else return[a,new q(l([]))]}function ai(e,t){return ol(t,e.dispatched_paths)}function zl(e,t,r,n,i){return Gr(e,ls(r,n),Pn(i,t))}function On(e,t,r,n,i){let o=zl(e.handlers,t,r,n,i),s=e;return new yt(o,s.dispatched_paths,s.next_dispatched_paths)}function Rl(e,t,r,n){return Ke(n,e,(i,o)=>{if(o instanceof Pe){let s=o.name,a=o.handler;return zl(i,t,r,s,a)}else return i})}function ir(e,t){let r=Is(e,We);return Is(t,We)?e:r?t:i=>e(t(i))}function Ml(e,t,r,n){for(;;){let i=e,o=t,s=r,a=n;if(a instanceof v)return i;{let c=a.head,f=a.tail;e=Ll(i,o,s,c),t=o,r=s+de(c),n=f}}}function Ll(e,t,r,n){if(n instanceof ze){let i=n.children;return Ml(e,t,r+1,i)}else if(n instanceof lt){let i=n.attributes,o=n.children,s=rr(t,r,n.key),c=Bl(e,s,i);return Ml(c,s,0,o)}else{if(n instanceof at)return e;{let i=n.attributes,o=rr(t,r,n.key);return Bl(e,o,i)}}}function Ot(e,t,r,n){let i=Ll(e.handlers,t,r,n),o=e;return new yt(i,o.dispatched_paths,o.next_dispatched_paths)}function Bs(e,t,r,n,i){for(;;){let o=e,s=t,a=r,c=n,f=i;if(f instanceof v)return o;{let _=f.head,b=f.tail;e=Ul(o,s,a,c,_),t=s,r=a,n=c+de(_),i=b}}}function Ul(e,t,r,n,i){if(i instanceof ze){let o=i.children,s=ir(t,i.mapper),a=n+1;return Bs(e,s,r,a,o)}else if(i instanceof lt){let o=i.attributes,s=i.children,a=rr(r,n,i.key),c=ir(t,i.mapper),_=Rl(e,c,a,o);return Bs(_,c,a,0,s)}else{if(i instanceof at)return e;{let o=i.attributes,s=rr(r,n,i.key),a=ir(t,i.mapper);return Rl(e,a,s,o)}}}function nr(e,t,r,n,i){let o=Ul(e.handlers,t,r,n,i),s=e;return new yt(o,s.dispatched_paths,s.next_dispatched_paths)}function xl(e,t,r,n,i){let o=Bs(e.handlers,t,r,n,i),s=e;return new yt(o,s.dispatched_paths,s.next_dispatched_paths)}function ut(e,t,r){return cs("",We,"",e,t,r,Qe(),!1,!1)}function Os(e,t,r,n){return cs("",We,e,t,r,n,Qe(),!1,!1)}function _i(e){return _s("",We,e)}function Ol(){return _s("",We,"")}function gc(e,t){for(;;){let r=e,n=t;if(r instanceof v)return n;{let i=r.head;if(i instanceof ze){let o=r.tail,s=i.children_count;e=o,t=n+s}else e=r.tail,t=n+1}}}function z(e){return al("",We,e,Qe(),gc(e,0))}function D(e){return _i(e)}function Pl(e,t){return ut("h1",e,t)}function Ms(e,t){return ut("h2",e,t)}function j(e,t){return ut("div",e,t)}function sr(e,t){return ut("p",e,t)}function mt(e,t){return ut("span",e,t)}function ht(e,t){return ut("button",e,t)}function ql(e){return ut("input",e,F)}function Fl(e,t){return ut("label",e,t)}var vr=class extends p{constructor(t){super(),this.message=t}},Wr=class extends p{constructor(t,r){super(),this.name=t,this.data=r}};var kr=class extends p{};var Ds=class extends p{constructor(t,r,n,i,o,s,a,c){super(),this.open_shadow_root=t,this.adopt_styles=r,this.attributes=n,this.properties=i,this.is_form_associated=o,this.on_form_autofill=s,this.on_form_reset=a,this.on_form_restore=c}};function Gl(e){let t=new Ds(!1,!0,Gn(),Gn(),!1,Zn,Zn,Zn);return Ke(e,t,(r,n)=>n.apply(r))}var zs=class e{static start({init:t,update:r,view:n},i,o){if(!Rn())return new q(new Xr);let s=i instanceof HTMLElement?i:_t.querySelector(i);return s?new M(new e(s,t(o),r,n)):new q(new di(i))}#e;constructor(t,[r,n],i,o){this.#e=new Bn(t,[r,n],o,i)}send(t){switch(t.constructor){case vr:{this.dispatch(t.message,!1);break}case Wr:{this.emit(t.name,t.data);break}case kr:break}}dispatch(t,r){this.#e.dispatch(t,r)}emit(t,r){this.#e.emit(t,r)}},Yl=zs.start;var Ls=class extends p{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.config=i}};var di=class extends p{constructor(t){super(),this.selector=t}},Xr=class extends p{};function Tc(e,t,r){return new Ls(e,t,r,Gl(F))}function Kl(e,t,r){return Tc(o=>[e(o),Qi()],(o,s)=>[t(o,s),Qi()],r)}function Wl(e,t,r){return Io(!Rn(),new q(new Xr),()=>Yl(e,t,r))}var vt=class extends p{},qe=class extends p{constructor(t){super(),this[0]=t}},mi=class extends p{constructor(t){super(),this[0]=t}},Le=class extends p{constructor(t,r){super(),this.multiplier=t,this.duration=r}},kt=class extends p{constructor(t){super(),this.duration=t}},Er=class extends p{},Et=class extends p{};var et=class extends p{constructor(t,r,n,i){super(),this.health_gained=t,this.points_gained=r,this.damage_taken=n,this.special_orbs=i}},J=class extends p{constructor(t){super(),this[0]=t}},te=class extends p{constructor(t){super(),this[0]=t}},we=class extends p{constructor(t){super(),this[0]=t}},je=class extends p{},Oe=class extends p{},Ie=class extends p{},Te=class extends p{},_e=class extends p{},me=class extends p{},St=class extends p{},Sr=class extends p{},or=class extends p{},Zr=class extends p{constructor(t){super(),this[0]=t}},Ae=class extends p{},Jr=class extends p{},Tr=class extends p{},Nt=class extends p{},lr=class extends p{},Ar=class extends p{},Cr=class extends p{},ar=class extends p{},jr=class extends p{},hi=class extends p{},Fe=class extends p{},Qr=class extends p{},Or=class extends p{},Bt=class extends p{},ur=class extends p{},Ir=class extends p{},Nr=class extends p{},cr=class extends p{},Br=class extends p{},bi=class extends p{},Rt=class extends p{constructor(t){super(),this[0]=t}},P=class extends p{constructor(t){super(),this[0]=t}},Y=class extends p{constructor(t){super(),this[0]=t}},Mt=class extends p{},Dt=class extends p{},zt=class extends p{},Lt=class extends p{},Ut=class extends p{},Pt=class extends p{},qt=class extends p{},Ft=class extends p{},Ht=class extends p{},$i=class extends p{},O=class extends p{constructor(t,r,n,i,o,s,a,c,f,_,b,w,E,d,T,m,S,g,I,k,h){super(),this.health=t,this.points=r,this.level=n,this.milestone=i,this.bag=o,this.screen=s,this.last_orb=a,this.last_orb_message=c,this.input_value=f,this.pulled_orbs=_,this.point_multiplier=b,this.bomb_immunity=w,this.active_statuses=E,this.choice_orb_1=d,this.choice_orb_2=T,this.dev_mode=m,this.risk_orbs=S,this.risk_original_orbs=g,this.risk_pulled_orbs=I,this.risk_accumulated_effects=k,this.risk_health=h}},en=class extends p{},tn=class extends p{},He=class extends p{constructor(t){super(),this[0]=t}},rn=class extends p{constructor(t){super(),this[0]=t}},Ve=class extends p{constructor(t){super(),this[0]=t}},nn=class extends p{},Ge=class extends p{},sn=class extends p{},on=class extends p{},ln=class extends p{},an=class extends p{},un=class extends p{},cn=class extends p{},fn=class extends p{},Rr=class extends p{},Ne=class extends p{},Be=class extends p{},Vt=class extends p{constructor(t){super(),this[0]=t}},_n=class extends p{},Gt=class extends p{constructor(t){super(),this[0]=t}},Mr=class extends p{},pn=class extends p{},Dr=class extends p{},Yt=class extends p{};function fr(e){return e instanceof J?"Data Sample":e instanceof te?"Hazard Sample":e instanceof we?"Health Sample":e instanceof je?"All Collector Sample":e instanceof Oe?"Point Collector Sample":e instanceof Ie?"Bomb Survivor Sample":e instanceof Te?"Multiplier Sample":e instanceof _e?"Shield Generator Sample":e instanceof me?"Choice Portal Sample":"Fate Sample"}function ye(e){if(e instanceof J){let t=e[0];return"\u25CF DATA ACQUIRED +"+L(t)}else if(e instanceof te){let t=e[0];return"\u25CB SYSTEM DAMAGE -"+L(t)}else if(e instanceof we){let t=e[0];return"\u25C7 SYSTEMS RESTORED +"+L(t)}else return e instanceof je?"\u25C8 TOTAL COLLECTION +?":e instanceof Oe?"\u25C9 DATA COLLECTION +?":e instanceof Ie?"\u25C6 SURVIVAL BONUS +?":e instanceof Te?"\u25C8 MULTIPLIER ACTIVATED \xD72":e instanceof _e?"\u25C8 SHIELD GENERATOR ACTIVATED":e instanceof me?"\u25C8 CHOICE PORTAL ACTIVATED":"\u26A0 FATE SAMPLE DETECTED"}function zr(e,t){return e instanceof je?"\u25C8 TOTAL COLLECTION +"+L(t):e instanceof Oe?"\u25C9 DATA COLLECTION +"+L(t):e instanceof Ie?"\u25C6 SURVIVAL BONUS +"+L(t):ye(e)}function Us(e){return"DATA TARGET ACHIEVED: "+L(e)+" UNITS"}var Zl="SAMPLE CONTAINER",Jl="EXTRACT SAMPLE",Ql=" SPECIMENS",ea="START MISSION",ta="SAMPLE TESTING",ra="PREPARE FOR DEEP SPACE EXPLORATION",na="SAMPLE TESTING PROTOCOL",ia="SELECT A SAMPLE TYPE FOR CONTROLLED TESTING",sa="BACK TO MENU",oa="TESTING MODE ACTIVE";var la="RESET TEST",tt="EXIT TO MENU",aa="SECTOR COMPLETE",ua="MISSION FAILED",ca="ADVANCE TO NEXT SECTOR",fa="PLAY AGAIN",_a="SYSTEMS",pa="DATA",da="TARGET",ma="SECTOR",ha="ALL SYSTEMS COMPROMISED. INITIATING RESET PROTOCOL.";var xi=class extends p{},qs=class extends p{};function gi(e){return new Le(e,new vt)}function wi(e){return new kt(new qe(e))}function Tt(e){let t=mo(e,r=>r instanceof Le);if(t instanceof M){let r=t[0];return r instanceof Le?r.multiplier:1}else return 1}function yi(e){return ho(e,t=>t instanceof kt)}function Cc(e,t){return t instanceof Le?e instanceof Le:e instanceof kt}function jc(e,t){return po(e,new q(void 0),(r,n,i)=>r instanceof M?r:Cc(n,t)?new M(i):new q(void 0))}function Oc(e){return e instanceof Le?new xi:new qs}function Ic(e){return e instanceof Le?new Er:new Er}function Kt(e,t){let r=qi(e.active_statuses,i=>!se(Ic(i),t)),n=e;return new O(n.health,n.points,n.level,n.milestone,n.bag,n.screen,n.last_orb,n.last_orb_message,n.input_value,n.pulled_orbs,n.point_multiplier,n.bomb_immunity,r,n.choice_orb_1,n.choice_orb_2,n.dev_mode,n.risk_orbs,n.risk_original_orbs,n.risk_pulled_orbs,n.risk_accumulated_effects,n.risk_health)}function ba(e){if(e instanceof vt)return new vt;if(e instanceof qe){let t=e[0];return t>0?new qe(t-1):new qe(0)}else{let t=e[0];return new mi(t)}}function Nc(e){if(e instanceof Le){let t=e.multiplier,r=e.duration;return new Le(t,ba(r))}else{let t=e.duration;return new kt(ba(t))}}function Bc(e){if(e instanceof Le){let t=e.duration;return t instanceof vt?!0:t instanceof qe?t[0]>0:!0}else{let t=e.duration;return t instanceof qe?t[0]>0:!0}}function Fs(e){let t,r=e.active_statuses,n=Je(r,Nc);t=qi(n,Bc);let i=t,o=e;return new O(o.health,o.points,o.level,o.milestone,o.bag,o.screen,o.last_orb,o.last_orb_message,o.input_value,o.pulled_orbs,o.point_multiplier,o.bomb_immunity,i,o.choice_orb_1,o.choice_orb_2,o.dev_mode,o.risk_orbs,o.risk_original_orbs,o.risk_pulled_orbs,o.risk_accumulated_effects,o.risk_health)}function $a(e){if(e instanceof Le){let t=e.multiplier;return"\u25C8 SIGNAL AMPLIFIER \xD7"+L(t)}else{let t=e.duration;if(t instanceof vt)return"\u25C8 HAZARD SHIELD PERMANENT";if(t instanceof qe){let r=t[0];return"\u25C8 HAZARD SHIELD ACTIVE ("+L(r)+" remaining)"}else return""}}function Rc(e,t){for(;;){let r=e,n=t;if(r instanceof v)return new q(void 0);if(n===0){let i=r.head;return new M(i)}else{let i=n;e=r.tail,t=i-1}}}function Mc(e,t){return t>=0?Rc(e,t):new q(void 0)}function xa(e,t,r,n){if(e instanceof v)return l([]);if(n===t){let i=e.tail;return $(r,i)}else{let i=e.head,o=e.tail;return $(i,xa(o,t,r,n+1))}}function ga(e,t,r){return t>=0?xa(e,t,r,0):e}function Dc(e,t,r){let n=Mc(e,t);if(n instanceof M){let i=n[0],o;if(r instanceof kt){let a=r.duration;if(a instanceof qe)if(i instanceof kt){let c=i.duration;if(c instanceof qe){let f=a[0],_=c[0];o=new kt(new qe(_+f))}else o=r}else o=r;else o=r}else o=r;return ga(e,t,o)}else return e}function Lr(e,t){let r,n=jc(e.active_statuses,t);if(n instanceof M){let s=n[0];Oc(t)instanceof xi?r=ga(e.active_statuses,s,t):r=Dc(e.active_statuses,s,t)}else r=$(t,e.active_statuses);let i=r,o=e;return new O(o.health,o.points,o.level,o.milestone,o.bag,o.screen,o.last_orb,o.last_orb_message,o.input_value,o.pulled_orbs,o.point_multiplier,o.bomb_immunity,i,o.choice_orb_1,o.choice_orb_2,o.dev_mode,o.risk_orbs,o.risk_original_orbs,o.risk_pulled_orbs,o.risk_accumulated_effects,o.risk_health)}function bt(){let e=l([new J(1),new J(1),new J(2),new J(2),new J(3)]),t=l([new te(1),new te(1),new te(2),new te(2),new te(3)]),r=l([new we(1),new we(2)]),n=l([new je,new Oe,new Ie,new Te,new _e,new me,new St]),o=Z(e,t),s=Z(o,r);return Z(s,n)}function Sa(e){return new O(5,0,1,5,bt(),new Rt(new Sr),new R,new R,"",l([]),1,0,l([]),new R,new R,!1,l([]),l([]),l([]),new et(0,0,0,l([])),5)}function zc(e){let t=l([e]);return Z(t,bt())}function ya(e){return Ke(e,0,(t,r)=>r instanceof J?t+1:t)}function va(e){return Ke(e,0,(t,r)=>r instanceof te?t+1:t)}function Lc(e){let r=Kt(e,new Et);return new O(5,0,r.level,r.milestone,bt(),new Y(new Fe),new R,new R,r.input_value,l([]),1,0,r.active_statuses,new R,new R,r.dev_mode,r.risk_orbs,r.risk_original_orbs,r.risk_pulled_orbs,r.risk_accumulated_effects,r.risk_health)}function Uc(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,new P(new or),t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,t.dev_mode,t.risk_orbs,t.risk_original_orbs,t.risk_pulled_orbs,t.risk_accumulated_effects,t.risk_health)}function Pc(e,t){let r=e;return new O(r.health,r.points,r.level,r.milestone,r.bag,new P(new Zr(t)),r.last_orb,r.last_orb_message,"1",r.pulled_orbs,r.point_multiplier,r.bomb_immunity,r.active_statuses,r.choice_orb_1,r.choice_orb_2,r.dev_mode,r.risk_orbs,r.risk_original_orbs,r.risk_pulled_orbs,r.risk_accumulated_effects,r.risk_health)}function qc(e,t){let r=e;return new O(r.health,r.points,r.level,r.milestone,r.bag,r.screen,r.last_orb,r.last_orb_message,t,r.pulled_orbs,r.point_multiplier,r.bomb_immunity,r.active_statuses,r.choice_orb_1,r.choice_orb_2,r.dev_mode,r.risk_orbs,r.risk_original_orbs,r.risk_pulled_orbs,r.risk_accumulated_effects,r.risk_health)}function Fc(e,t){let r=Pi(e.input_value);if(r instanceof M){let n=r[0];if(n>0){let i;t instanceof Mt?i=new J(n):t instanceof Dt?i=new te(n):t instanceof zt?i=new we(n):t instanceof Lt?i=new Te:t instanceof Ut?i=new je:t instanceof Pt?i=new Oe:t instanceof qt?i=new Ie:t instanceof Ft?i=new _e:t instanceof Ht?i=new me:i=new St;let o=i,a=Kt(e,new Et);return new O(5,0,a.level,a.milestone,zc(o),new P(new Ae),new R,new R,a.input_value,l([]),1,0,a.active_statuses,new R,new R,a.dev_mode,a.risk_orbs,a.risk_original_orbs,a.risk_pulled_orbs,a.risk_accumulated_effects,a.risk_health)}else return e}else return e}function Hc(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,new P(new or),t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,t.dev_mode,t.risk_orbs,t.risk_original_orbs,t.risk_pulled_orbs,t.risk_accumulated_effects,t.risk_health)}function Vc(e){let t,r=l([new Te,new _e]);t=Z(r,bt());let n=t,o=Kt(e,new Et);return new O(5,0,o.level,o.milestone,n,new P(new Ae),new R,new R,o.input_value,l([]),1,0,o.active_statuses,new R,new R,o.dev_mode,o.risk_orbs,o.risk_original_orbs,o.risk_pulled_orbs,o.risk_accumulated_effects,o.risk_health)}function Gc(e){let t,r=l([new me,new me,new me]);t=Z(r,bt());let n=t,o=Kt(e,new Et);return new O(5,0,o.level,o.milestone,n,new P(new Ae),new R,new R,o.input_value,l([]),1,0,o.active_statuses,new R,new R,o.dev_mode,o.risk_orbs,o.risk_original_orbs,o.risk_pulled_orbs,o.risk_accumulated_effects,o.risk_health)}function Yc(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,new Rt(new Sr),t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,t.dev_mode,t.risk_orbs,t.risk_original_orbs,t.risk_pulled_orbs,t.risk_accumulated_effects,t.risk_health)}function Kc(e){let t=l([new J(3),new te(1),new J(2),new we(2),new J(1)]),r,n=l([new St]),i=Z(n,t);r=Z(i,bt());let o=r,a=Kt(e,new Et);return new O(5,0,a.level,a.milestone,o,new P(new Ae),new R,new R,a.input_value,l([]),1,0,a.active_statuses,new R,new R,a.dev_mode,a.risk_orbs,a.risk_original_orbs,a.risk_pulled_orbs,a.risk_accumulated_effects,a.risk_health)}function Wc(e){let t=l([new te(2),new te(2),new te(2),new te(1)]),r,n=l([new St]),i=Z(n,t);r=Z(i,bt());let o=r,a=Kt(e,new Et);return new O(5,0,a.level,a.milestone,o,new P(new Ae),new R,new R,a.input_value,l([]),1,0,a.active_statuses,new R,new R,a.dev_mode,a.risk_orbs,a.risk_original_orbs,a.risk_pulled_orbs,a.risk_accumulated_effects,a.risk_health)}function Xc(e){let t=l([new J(1),new J(1),new J(1),new J(1),new J(1)]),r,n=l([new St]),i=Z(n,t);r=Z(i,bt());let o=r,a=Kt(e,new Et);return new O(5,0,a.level,50,o,new P(new Ae),new R,new R,a.input_value,l([]),1,0,a.active_statuses,new R,new R,a.dev_mode,a.risk_orbs,a.risk_original_orbs,a.risk_pulled_orbs,a.risk_accumulated_effects,a.risk_health)}function Zc(e){return new O(5,0,1,5,bt(),new Rt(new Sr),new R,new R,"",l([]),1,0,l([]),new R,new R,e.dev_mode,l([]),l([]),l([]),new et(0,0,0,l([])),5)}function Jc(e){let r=Kt(e,new Er);return new O(5,0,e.level+1,e.milestone+2,bt(),new Y(new Fe),new R,new R,r.input_value,l([]),1,0,r.active_statuses,r.choice_orb_1,r.choice_orb_2,r.dev_mode,r.risk_orbs,r.risk_original_orbs,r.risk_pulled_orbs,r.risk_accumulated_effects,r.risk_health)}function Qc(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,new P(new or),t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,t.dev_mode,t.risk_orbs,t.risk_original_orbs,t.risk_pulled_orbs,t.risk_accumulated_effects,t.risk_health)}function ef(e){return new O(5,0,1,5,bt(),new Rt(new Sr),new R,new R,"",l([]),1,0,l([]),new R,new R,e.dev_mode,l([]),l([]),l([]),new et(0,0,0,l([])),5)}function Wt(e){let t=e.screen;if(t instanceof P)if(t[0]instanceof Ae){let n=e.health<=0,i=e.points>=e.milestone,o=Ye(e.bag);if(n){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new P(new Tr),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else if(i){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new P(new Jr),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else if(o){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new P(new Tr),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else return e}else return e;else if(t instanceof Y)if(t[0]instanceof Fe){let n=e.health<=0,i=e.points>=e.milestone,o=Ye(e.bag);if(n){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new Y(new Or),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else if(i){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new Y(new Qr),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else if(o){let s=e;return new O(s.health,s.points,s.level,s.milestone,s.bag,new Y(new Or),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)}else return e}else return e;else return e}function tf(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,t.screen,t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,!e.dev_mode,t.risk_orbs,t.risk_original_orbs,t.risk_pulled_orbs,t.risk_accumulated_effects,t.risk_health)}function ka(e){let t,r=e.screen;r instanceof P?r[0]instanceof Ae?t=new P(new lr):t=e.screen:r instanceof Y&&r[0]instanceof Fe?t=new Y(new ur):t=e.screen;let n=t,i=e;return new O(i.health,i.points,i.level,i.milestone,i.bag,n,i.last_orb,i.last_orb_message,i.input_value,i.pulled_orbs,i.point_multiplier,i.bomb_immunity,i.active_statuses,i.choice_orb_1,i.choice_orb_2,i.dev_mode,i.risk_orbs,i.risk_original_orbs,i.risk_pulled_orbs,i.risk_accumulated_effects,i.risk_health)}function rf(e,t){for(;;){let r=e;if(t)if(ge(r.bag)>=5){let o=_o(r.bag,5),s=fo(r.bag,5),a,c=r.screen;c instanceof P?c[0]instanceof lr?a=new P(new Ar):a=r.screen:c instanceof Y&&c[0]instanceof ur?a=new Y(new Ir):a=r.screen;let f=a,_=r;return new O(_.health,_.points,_.level,_.milestone,s,f,_.last_orb,_.last_orb_message,_.input_value,_.pulled_orbs,_.point_multiplier,_.bomb_immunity,_.active_statuses,_.choice_orb_1,_.choice_orb_2,_.dev_mode,o,o,l([]),new et(0,0,0,l([])),r.health)}else e=r,t=!1;else{let i=r.screen;return i instanceof P?i[0]instanceof lr?Wt((()=>{let s=r;return new O(s.health,s.points,s.level,s.milestone,s.bag,new P(new Ae),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)})()):r:i instanceof Y&&i[0]instanceof ur?Wt((()=>{let s=r;return new O(s.health,s.points,s.level,s.milestone,s.bag,new Y(new Fe),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)})()):r}}}function nf(e){let t,r=e.screen;r instanceof P?r[0]instanceof Ar?t=new P(new Cr):t=e.screen:r instanceof Y&&r[0]instanceof Ir?t=new Y(new Nr):t=e.screen;let n=t,i=e;return new O(i.health,i.points,i.level,i.milestone,i.bag,n,i.last_orb,i.last_orb_message,i.input_value,i.pulled_orbs,i.point_multiplier,i.bomb_immunity,i.active_statuses,i.choice_orb_1,i.choice_orb_2,i.dev_mode,i.risk_orbs,i.risk_original_orbs,i.risk_pulled_orbs,i.risk_accumulated_effects,i.risk_health)}function sf(e){let t=e.risk_accumulated_effects,r=t.health_gained-t.damage_taken,n=e.health+r;if(n<=0){let o,s=e.screen;s instanceof P?s[0]instanceof ar?o=new P(new hi):o=e.screen:s instanceof Y&&s[0]instanceof cr?o=new Y(new bi):o=e.screen;let a=o,c=e;return new O(n,c.points,c.level,c.milestone,c.bag,a,c.last_orb,c.last_orb_message,c.input_value,c.pulled_orbs,c.point_multiplier,c.bomb_immunity,c.active_statuses,c.choice_orb_1,c.choice_orb_2,c.dev_mode,c.risk_orbs,c.risk_original_orbs,c.risk_pulled_orbs,c.risk_accumulated_effects,c.risk_health)}else{let o=xn(n,5),s=e.points+t.points_gained,a=Ke(t.special_orbs,e,(w,E)=>{if(E instanceof Te){let d=w.point_multiplier*2,m=Lr(w,gi(d));return(S=>{let g=S;return new O(g.health,g.points,g.level,g.milestone,g.bag,g.screen,g.last_orb,g.last_orb_message,g.input_value,g.pulled_orbs,d,g.bomb_immunity,g.active_statuses,g.choice_orb_1,g.choice_orb_2,g.dev_mode,g.risk_orbs,g.risk_original_orbs,g.risk_pulled_orbs,g.risk_accumulated_effects,g.risk_health)})(m)}else if(E instanceof _e){let T=Lr(w,wi(3));return(m=>{let S=m;return new O(S.health,S.points,S.level,S.milestone,S.bag,S.screen,S.last_orb,S.last_orb_message,S.input_value,S.pulled_orbs,S.point_multiplier,3,S.active_statuses,S.choice_orb_1,S.choice_orb_2,S.dev_mode,S.risk_orbs,S.risk_original_orbs,S.risk_pulled_orbs,S.risk_accumulated_effects,S.risk_health)})(T)}else return w}),c,f=e.screen;f instanceof P?f[0]instanceof ar?c=new P(new jr):c=e.screen:f instanceof Y&&f[0]instanceof cr?c=new Y(new Br):c=e.screen;let _=c,b=a;return new O(o,s,b.level,b.milestone,b.bag,_,b.last_orb,b.last_orb_message,b.input_value,Z(e.pulled_orbs,e.risk_pulled_orbs),b.point_multiplier,b.bomb_immunity,b.active_statuses,b.choice_orb_1,b.choice_orb_2,b.dev_mode,b.risk_orbs,b.risk_original_orbs,b.risk_pulled_orbs,b.risk_accumulated_effects,b.risk_health)}}function of(e){let t,r=e;t=new O(r.health,r.points,r.level,r.milestone,r.bag,r.screen,r.last_orb,r.last_orb_message,r.input_value,r.pulled_orbs,r.point_multiplier,r.bomb_immunity,r.active_statuses,r.choice_orb_1,r.choice_orb_2,r.dev_mode,l([]),l([]),l([]),new et(0,0,0,l([])),5);let n=t,i=e.screen;return i instanceof P?i[0]instanceof jr?Wt((()=>{let s=n;return new O(s.health,s.points,s.level,s.milestone,s.bag,new P(new Ae),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)})()):n:i instanceof Y&&i[0]instanceof Br?Wt((()=>{let s=n;return new O(s.health,s.points,s.level,s.milestone,s.bag,new Y(new Fe),s.last_orb,s.last_orb_message,s.input_value,s.pulled_orbs,s.point_multiplier,s.bomb_immunity,s.active_statuses,s.choice_orb_1,s.choice_orb_2,s.dev_mode,s.risk_orbs,s.risk_original_orbs,s.risk_pulled_orbs,s.risk_accumulated_effects,s.risk_health)})()):n}function lf(e){let t=e;return new O(t.health,t.points,t.level,t.milestone,t.bag,new Y(new Fe),t.last_orb,t.last_orb_message,t.input_value,t.pulled_orbs,t.point_multiplier,t.bomb_immunity,t.active_statuses,t.choice_orb_1,t.choice_orb_2,t.dev_mode,l([]),t.risk_original_orbs,l([]),new et(0,0,0,l([])),5)}function af(e,t,r){if(e instanceof J){let n=e[0],i=Tt(r),o=n*2*i,s,a=t;return s=new et(a.health_gained,t.points_gained+o,a.damage_taken,a.special_orbs),[s,"\u25CF RISK DATA ACQUIRED +"+L(o)]}else if(e instanceof te){let n=e[0];if(yi(r))return[t,"\u25C8 SHIELD PROTECTED FROM HAZARD"];{let o,s=t;return o=new et(s.health_gained,s.points_gained,t.damage_taken+n,s.special_orbs),[o,"\u25CB HAZARD DAMAGE -"+L(n)]}}else if(e instanceof we){let n=e[0],i,o=t;return i=new et(t.health_gained+n,o.points_gained,o.damage_taken,o.special_orbs),[i,"\u25C7 EMERGENCY SYSTEMS +"+L(n)]}else{let n=e,i,o=t;return i=new et(o.health_gained,o.points_gained,o.damage_taken,$(n,t.special_orbs)),[i,ye(n)]}}function uf(e){let t=e.risk_orbs;if(t instanceof v)return e;{let r=t.head,n=t.tail,i=af(r,e.risk_accumulated_effects,e.active_statuses),o=i[0],s=i[1],a,c=e;a=new O(c.health,c.points,c.level,c.milestone,c.bag,c.screen,new G(r),new G(s),c.input_value,c.pulled_orbs,c.point_multiplier,c.bomb_immunity,c.active_statuses,c.choice_orb_1,c.choice_orb_2,c.dev_mode,n,c.risk_original_orbs,$(r,e.risk_pulled_orbs),o,c.risk_health);let f=a;if(Ye(n)){let b,w=e.screen;w instanceof P?w[0]instanceof Cr?b=new P(new ar):b=e.screen:w instanceof Y&&w[0]instanceof Nr?b=new Y(new cr):b=e.screen;let E=b,d=f;return new O(d.health,d.points,d.level,d.milestone,d.bag,E,d.last_orb,d.last_orb_message,d.input_value,d.pulled_orbs,d.point_multiplier,d.bomb_immunity,d.active_statuses,d.choice_orb_1,d.choice_orb_2,d.dev_mode,d.risk_orbs,d.risk_original_orbs,d.risk_pulled_orbs,d.risk_accumulated_effects,d.risk_health)}else return f}}function Ea(e){let t=e.bag;if(t instanceof v)return Wt(e);{let r=t.tail;if(r instanceof v){let n=t.head,i,o=e;return i=new O(o.health,o.points,o.level,o.milestone,l([n]),o.screen,o.last_orb,o.last_orb_message,o.input_value,o.pulled_orbs,o.point_multiplier,o.bomb_immunity,o.active_statuses,o.choice_orb_1,o.choice_orb_2,o.dev_mode,o.risk_orbs,o.risk_original_orbs,o.risk_pulled_orbs,o.risk_accumulated_effects,o.risk_health),vi(i)}else{let n=t.head,i=r.head,o=r.tail,s,a=e.screen;a instanceof P?a[0]instanceof Ae?s=new P(new Nt):s=e.screen:a instanceof Y&&a[0]instanceof Fe?s=new Y(new Bt):s=e.screen;let c=s,f,_=e;return f=new O(_.health,_.points,_.level,_.milestone,o,c,_.last_orb,_.last_orb_message,_.input_value,_.pulled_orbs,_.point_multiplier,_.bomb_immunity,_.active_statuses,new G(n),new G(i),_.dev_mode,_.risk_orbs,_.risk_original_orbs,_.risk_pulled_orbs,_.risk_accumulated_effects,_.risk_health),f}}}function vi(e){let t=e.screen;if(t instanceof P)if(t[0]instanceof Ae){let n=e.bag;if(n instanceof v)return Wt(e);{let i=n.head,o=n.tail,s;if(i instanceof J){let k=i[0],h=Tt(e.active_statuses),y=k*h,u,x=e;u=new O(x.health,e.points+y,x.level,x.milestone,x.bag,x.screen,x.last_orb,x.last_orb_message,x.input_value,x.pulled_orbs,x.point_multiplier,x.bomb_immunity,x.active_statuses,x.choice_orb_1,x.choice_orb_2,x.dev_mode,x.risk_orbs,x.risk_original_orbs,x.risk_pulled_orbs,x.risk_accumulated_effects,x.risk_health);let N=u,C=ye(i);s=[N,C,!1]}else if(i instanceof te){let k=i[0];if(yi(e.active_statuses))s=[e,"Bomb immunity protected you! Bomb returned to container.",!0];else{let y,u=e;y=new O(e.health-k,u.points,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=ye(i);s=[x,N,!1]}}else if(i instanceof we){let k=i[0],h=xn(e.health+k,5),y,u=e;y=new O(h,u.points,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=ye(i);s=[x,N,!1]}else if(i instanceof je){let k=Tt(e.active_statuses),h=ge(o)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Oe){let k=Tt(e.active_statuses),h=ya(o)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Ie){let k=Tt(e.active_statuses),h=va(e.pulled_orbs)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Te){let k=e.point_multiplier*2,h,u=Lr(e,gi(k));h=(C=>{let B=C;return new O(B.health,B.points,B.level,B.milestone,B.bag,B.screen,B.last_orb,B.last_orb_message,B.input_value,B.pulled_orbs,k,B.bomb_immunity,B.active_statuses,B.choice_orb_1,B.choice_orb_2,B.dev_mode,B.risk_orbs,B.risk_original_orbs,B.risk_pulled_orbs,B.risk_accumulated_effects,B.risk_health)})(u);let x=h,N=ye(i);s=[x,N,!1]}else if(i instanceof _e){let k,y=Lr(e,wi(3));k=(N=>{let C=N;return new O(C.health,C.points,C.level,C.milestone,C.bag,C.screen,C.last_orb,C.last_orb_message,C.input_value,C.pulled_orbs,C.point_multiplier,3,C.active_statuses,C.choice_orb_1,C.choice_orb_2,C.dev_mode,C.risk_orbs,C.risk_original_orbs,C.risk_pulled_orbs,C.risk_accumulated_effects,C.risk_health)})(y);let u=k,x=ye(i);s=[u,x,!1]}else if(i instanceof me){let k=ye(i);s=[e,k,!1]}else{let k=ye(i);s=[e,k,!1]}let a=s,c=a[0],f=a[1],_=a[2],b;_?b=Z(o,l([i])):b=o;let w=b,E;i instanceof _e?E=c.bomb_immunity:c.bomb_immunity>0?E=c.bomb_immunity-1:E=0;let d=E,T,m=c;T=new O(m.health,m.points,m.level,m.milestone,w,m.screen,new G(i),new G(f),m.input_value,_?e.pulled_orbs:$(i,e.pulled_orbs),m.point_multiplier,d,m.active_statuses,m.choice_orb_1,m.choice_orb_2,m.dev_mode,m.risk_orbs,m.risk_original_orbs,m.risk_pulled_orbs,m.risk_accumulated_effects,m.risk_health);let S=T,g;i instanceof _e?g=S:g=Fs(S);let I=g;return i instanceof me?Ea(I):i instanceof St?ka(I):Wt(I)}}else return e;else if(t instanceof Y)if(t[0]instanceof Fe){let n=e.bag;if(n instanceof v)return Wt(e);{let i=n.head,o=n.tail,s;if(i instanceof J){let k=i[0],h=Tt(e.active_statuses),y=k*h,u,x=e;u=new O(x.health,e.points+y,x.level,x.milestone,x.bag,x.screen,x.last_orb,x.last_orb_message,x.input_value,x.pulled_orbs,x.point_multiplier,x.bomb_immunity,x.active_statuses,x.choice_orb_1,x.choice_orb_2,x.dev_mode,x.risk_orbs,x.risk_original_orbs,x.risk_pulled_orbs,x.risk_accumulated_effects,x.risk_health);let N=u,C=ye(i);s=[N,C,!1]}else if(i instanceof te){let k=i[0];if(yi(e.active_statuses))s=[e,"Bomb immunity protected you! Bomb returned to container.",!0];else{let y,u=e;y=new O(e.health-k,u.points,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=ye(i);s=[x,N,!1]}}else if(i instanceof we){let k=i[0],h=xn(e.health+k,5),y,u=e;y=new O(h,u.points,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=ye(i);s=[x,N,!1]}else if(i instanceof je){let k=Tt(e.active_statuses),h=ge(o)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Oe){let k=Tt(e.active_statuses),h=ya(o)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Ie){let k=Tt(e.active_statuses),h=va(e.pulled_orbs)*k,y,u=e;y=new O(u.health,e.points+h,u.level,u.milestone,u.bag,u.screen,u.last_orb,u.last_orb_message,u.input_value,u.pulled_orbs,u.point_multiplier,u.bomb_immunity,u.active_statuses,u.choice_orb_1,u.choice_orb_2,u.dev_mode,u.risk_orbs,u.risk_original_orbs,u.risk_pulled_orbs,u.risk_accumulated_effects,u.risk_health);let x=y,N=zr(i,h);s=[x,N,!1]}else if(i instanceof Te){let k=e.point_multiplier*2,h,u=Lr(e,gi(k));h=(C=>{let B=C;return new O(B.health,B.points,B.level,B.milestone,B.bag,B.screen,B.last_orb,B.last_orb_message,B.input_value,B.pulled_orbs,k,B.bomb_immunity,B.active_statuses,B.choice_orb_1,B.choice_orb_2,B.dev_mode,B.risk_orbs,B.risk_original_orbs,B.risk_pulled_orbs,B.risk_accumulated_effects,B.risk_health)})(u);let x=h,N=ye(i);s=[x,N,!1]}else if(i instanceof _e){let k,y=Lr(e,wi(3));k=(N=>{let C=N;return new O(C.health,C.points,C.level,C.milestone,C.bag,C.screen,C.last_orb,C.last_orb_message,C.input_value,C.pulled_orbs,C.point_multiplier,3,C.active_statuses,C.choice_orb_1,C.choice_orb_2,C.dev_mode,C.risk_orbs,C.risk_original_orbs,C.risk_pulled_orbs,C.risk_accumulated_effects,C.risk_health)})(y);let u=k,x=ye(i);s=[u,x,!1]}else if(i instanceof me){let k=ye(i);s=[e,k,!1]}else{let k=ye(i);s=[e,k,!1]}let a=s,c=a[0],f=a[1],_=a[2],b;_?b=Z(o,l([i])):b=o;let w=b,E;i instanceof _e?E=c.bomb_immunity:c.bomb_immunity>0?E=c.bomb_immunity-1:E=0;let d=E,T,m=c;T=new O(m.health,m.points,m.level,m.milestone,w,m.screen,new G(i),new G(f),m.input_value,_?e.pulled_orbs:$(i,e.pulled_orbs),m.point_multiplier,d,m.active_statuses,m.choice_orb_1,m.choice_orb_2,m.dev_mode,m.risk_orbs,m.risk_original_orbs,m.risk_pulled_orbs,m.risk_accumulated_effects,m.risk_health);let S=T,g;i instanceof _e?g=S:g=Fs(S);let I=g;return i instanceof me?Ea(I):i instanceof St?ka(I):Wt(I)}}else return e;else return e}function cf(e,t){let r=e.screen,n=e.choice_orb_1,i=e.choice_orb_2;if(i instanceof G)if(n instanceof G)if(r instanceof P)if(r[0]instanceof Nt){let s=i[0],a=n[0],c;t===0?c=a:c=s;let f=c,_;t===0?_=s:_=a;let b=_,w=Z(e.bag,l([b])),E,d=e;return E=new O(d.health,d.points,d.level,d.milestone,$(f,w),new P(new Ae),d.last_orb,d.last_orb_message,d.input_value,d.pulled_orbs,d.point_multiplier,d.bomb_immunity,d.active_statuses,new R,new R,d.dev_mode,d.risk_orbs,d.risk_original_orbs,d.risk_pulled_orbs,d.risk_accumulated_effects,d.risk_health),vi(E)}else return e;else if(r instanceof Y)if(r[0]instanceof Bt){let s=i[0],a=n[0],c;t===0?c=a:c=s;let f=c,_;t===0?_=s:_=a;let b=_,w=Z(e.bag,l([b])),E,d=e;return E=new O(d.health,d.points,d.level,d.milestone,$(f,w),new Y(new Fe),d.last_orb,d.last_orb_message,d.input_value,d.pulled_orbs,d.point_multiplier,d.bomb_immunity,d.active_statuses,new R,new R,d.dev_mode,d.risk_orbs,d.risk_original_orbs,d.risk_pulled_orbs,d.risk_accumulated_effects,d.risk_health),vi(E)}else return e;else return e;else return e;else return e}function Ta(e,t){if(t instanceof en)return Lc(e);if(t instanceof tn)return Uc(e);if(t instanceof He){let r=t[0];return Pc(e,r)}else if(t instanceof rn){let r=t[0];return qc(e,r)}else if(t instanceof Ve){let r=t[0];return Fc(e,r)}else{if(t instanceof nn)return Yc(e);if(t instanceof Ge)return Hc(e);if(t instanceof sn)return Vc(e);if(t instanceof on)return Gc(e);if(t instanceof ln)return Kc(e);if(t instanceof an)return Wc(e);if(t instanceof un)return Xc(e);if(t instanceof cn)return vi(e);if(t instanceof fn)return Jc(e);if(t instanceof Rr)return Zc(e);if(t instanceof Ne)return Qc(e);if(t instanceof Be)return ef(e);if(t instanceof Vt){let r=t[0];return cf(e,r)}else{if(t instanceof _n)return tf(e);if(t instanceof Gt){let r=t[0];return rf(e,r)}else return t instanceof Mr?nf(e):t instanceof pn?uf(e):t instanceof Dr?sf(e):t instanceof Yt?of(e):lf(e)}}}function pf(e){return e==="input"||e==="change"||e==="focus"||e==="focusin"||e==="focusout"||e==="blur"?!0:e==="select"}function Aa(e,t){return Wo(e,t,F,!1,!1,pf(e),0,0)}function $t(e){return Aa("click",Un(e))}function Ca(e){return Aa("input",yo(l(["target","value"]),qn,t=>Un(e(t))))}function le(e){return j(l([A("min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center p-4")]),l([e]))}function ae(e){return j(l([A("bg-white rounded-lg shadow-2xl p-8 max-w-md w-full text-center border border-gray-200 flex flex-col gap-3")]),e)}function ue(){return j(l([]),l([Pl(l([A("text-3xl font-light text-black mb-2 tracking-wide")]),l([D("NEW MOON")])),sr(l([A("text-sm text-gray-500 mb-6 font-light tracking-wider")]),l([D("DEEP SPACE EXPLORATION")]))]))}function Ia(e){return j(l([A("grid grid-cols-2 gap-3")]),e)}function Mn(e,t,r,n){return j(l([A("bg-gray-50 rounded border border-gray-100 p-4")]),l([j(l([A("text-lg font-light mb-1")]),l([D(e)])),j(l([A("text-xs text-gray-400 uppercase tracking-widest mb-1 font-light")]),l([D(t)])),j(l([A(Pr(l(["text-2xl font-light ",n])))]),l([D(r)]))]))}function he(e,t,r){return j(l([A("p-3 "+r+" rounded border")]),l([sr(l([A(t+" font-light text-sm")]),l([D(e)]))]))}function Re(e,t){if(e instanceof G)if(t instanceof G){let r=e[0],n=t[0];return r instanceof J?he(n,"text-gray-700","bg-gray-50 border-gray-200"):r instanceof te?he(n,"text-gray-800","bg-gray-100 border-gray-300"):r instanceof we?he(n,"text-green-700","bg-green-50 border-green-200"):r instanceof je?he(n,"text-purple-700","bg-purple-50 border-purple-200"):r instanceof Oe?he(n,"text-blue-700","bg-blue-50 border-blue-200"):r instanceof Ie?he(n,"text-orange-700","bg-orange-50 border-orange-200"):r instanceof Te?he(n,"text-yellow-700","bg-yellow-50 border-yellow-200"):r instanceof _e?he(n,"text-cyan-700","bg-cyan-50 border-cyan-200"):r instanceof me?he(n,"text-indigo-700","bg-indigo-50 border-indigo-200"):he(n,"text-orange-700","bg-orange-50 border-orange-200")}else{let r=e[0],n=ye(r);return r instanceof J?he(n,"text-gray-700","bg-gray-50 border-gray-200"):r instanceof te?he(n,"text-gray-800","bg-gray-100 border-gray-300"):r instanceof we?he(n,"text-green-700","bg-green-50 border-green-200"):r instanceof je?he(n,"text-purple-700","bg-purple-50 border-purple-200"):r instanceof Oe?he(n,"text-blue-700","bg-blue-50 border-blue-200"):r instanceof Ie?he(n,"text-orange-700","bg-orange-50 border-orange-200"):r instanceof Te?he(n,"text-yellow-700","bg-yellow-50 border-yellow-200"):r instanceof _e?he(n,"text-cyan-700","bg-cyan-50 border-cyan-200"):r instanceof me?he(n,"text-indigo-700","bg-indigo-50 border-indigo-200"):he(n,"text-orange-700","bg-orange-50 border-orange-200")}else return j(l([A("h-8")]),l([]))}function rt(e){return j(l([A("p-4 bg-gray-50 rounded border border-gray-100")]),l([sr(l([A("text-gray-500 mb-2 text-sm font-light tracking-wide")]),l([D(Zl)])),sr(l([A("text-2xl font-light text-black")]),l([D(Pr(l([L(e),Ql])))]))]))}function Hs(e){let t;return e?t="bg-gray-200 cursor-not-allowed text-gray-400 border-gray-200":t="bg-black hover:bg-gray-800 text-white border-black hover:scale-[1.02]",ht(l([A(Pr(l(["w-full py-4 px-6 rounded border font-light text-sm tracking-wider transition transform ",t]))),$t(new cn)]),l([D(Jl)]))}function be(e,t){return ht(l([A("w-full bg-black hover:bg-gray-800 text-white font-light py-4 px-6 rounded transition transform hover:scale-[1.02] text-sm tracking-wider"),$t(t)]),l([D(e)]))}function H(e,t){return ht(l([A("w-full bg-gray-800 hover:bg-black text-white font-light py-4 px-6 rounded transition transform hover:scale-[1.02] text-sm tracking-wider"),$t(t)]),l([D(e)]))}function Ei(e,t){return ht(l([A("w-full bg-green-600 hover:bg-green-700 text-white font-light py-4 px-6 rounded transition transform hover:scale-[1.02] text-sm tracking-wider border-2 border-green-500 hover:border-green-600"),$t(t)]),l([D(e)]))}function Vs(e,t){return ht(l([A("w-full bg-red-600 hover:bg-red-700 text-white font-light py-4 px-6 rounded transition transform hover:scale-[1.02] text-sm tracking-wider border-2 border-red-500 hover:border-red-600"),$t(t)]),l([D(e)]))}function re(e,t,r){return j(l([A("p-6 "+r+" rounded border")]),l([Ms(l([A("text-xl font-light text-black mb-2 tracking-wide")]),l([D(e)])),sr(l([A("text-gray-600 text-sm font-light")]),l([D(t)]))]))}function Xt(e,t){return j(l([A("p-6 bg-red-50 border border-red-200 rounded")]),l([Ms(l([A("text-xl font-light text-red-800 mb-2 tracking-wide")]),l([D(e)])),sr(l([A("text-red-700 text-sm font-light")]),l([D(t)]))]))}function Me(e,t){return ht(l([A("w-full bg-purple-600 hover:bg-purple-700 text-white font-light py-3 px-6 rounded transition transform hover:scale-[1.02] text-sm tracking-wider"),$t(t)]),l([D(e)]))}function Si(e){return j(l([A("mb-4")]),l([Fl(l([A("block text-sm font-light text-gray-700 mb-2"),Qo("value-input")]),l([D("Value:")])),ql(l([Zo("value-input"),rl("number"),nl(e),el("1"),tl("Enter a positive number"),A("w-full px-4 py-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-lg"),Ca(t=>new rn(t))]))]))}function xt(){return j(l([A("p-2 bg-yellow-50 border border-yellow-200 rounded")]),l([sr(l([A("text-yellow-700 font-medium text-xs tracking-wider")]),l([D(oa)]))]))}function nt(e){if(e instanceof v)return j(l([A("h-0")]),l([]));{let t=e;return j(l([A("flex flex-wrap gap-2")]),Je(t,r=>j(l([A("px-3 py-2 bg-blue-100 border border-blue-300 rounded-lg text-blue-800 text-xs font-medium shadow-sm")]),l([D(r)]))))}}function Na(e){return e instanceof J?["bg-gray-50","text-gray-700","border-gray-200"]:e instanceof te?["bg-red-50","text-red-700","border-red-200"]:e instanceof we?["bg-green-50","text-green-700","border-green-200"]:e instanceof je?["bg-purple-50","text-purple-700","border-purple-200"]:e instanceof Oe?["bg-blue-50","text-blue-700","border-blue-200"]:e instanceof Ie?["bg-orange-50","text-orange-700","border-orange-200"]:e instanceof Te?["bg-yellow-50","text-yellow-700","border-yellow-200"]:e instanceof _e?["bg-cyan-50","text-cyan-700","border-cyan-200"]:e instanceof me?["bg-indigo-50","text-indigo-700","border-indigo-200"]:["bg-red-100","text-red-800","border-red-300"]}function Gs(e,t,r,n,i){return j(l([A("space-y-4")]),l([j(l([A("text-sm text-indigo-700 font-medium bg-indigo-50 border border-indigo-200 rounded p-3 text-center")]),l([D(e)])),j(l([A("grid grid-cols-1 gap-3")]),l([ht(l([A("bg-indigo-600 hover:bg-indigo-700 text-white font-light py-4 px-6 rounded-lg transition-colors tracking-wide"),$t(n)]),l([D(t)])),ht(l([A("bg-indigo-600 hover:bg-indigo-700 text-white font-light py-4 px-6 rounded-lg transition-colors tracking-wide"),$t(i)]),l([D(r)]))]))]))}function ja(e){if(e instanceof vt)return"Permanent";if(e instanceof qe){let t=e[0];return"Countdown("+L(t)+")"}else{let t=e[0];return"Triggered("+L(t)+")"}}function mf(e){if(e instanceof Le){let t=e.multiplier,r=e.duration;return"PointMultiplier(\xD7"+L(t)+", "+ja(r)+")"}else{let t=e.duration;return"BombImmunity("+ja(t)+")"}}function hf(e){return j(l([]),l([j(l([A("text-xs text-yellow-700 uppercase tracking-wider mb-2 font-light")]),l([D("ACTIVE STATUS EFFECTS")])),j(l([A("space-y-1")]),Ye(e)?l([j(l([A("text-yellow-600 text-xs")]),l([D("No active effects")]))]):Je(e,r=>j(l([A("flex items-center text-yellow-800")]),l([mt(l([A("mr-2")]),l([D("\u2022")])),mt(l([A("font-medium")]),l([D(mf(r))]))]))))]))}function ki(e){if(e instanceof J){let t=e[0];return"Point("+L(t)+")"}else if(e instanceof te){let t=e[0];return"Bomb("+L(t)+")"}else if(e instanceof we){let t=e[0];return"Health("+L(t)+")"}else return e instanceof je?"AllCollector":e instanceof Oe?"PointCollector":e instanceof Ie?"BombSurvivor":e instanceof Te?"Multiplier":e instanceof _e?"BombImmunity":e instanceof me?"Choice":"Risk"}function Oa(e,t){return j(l([]),l([j(l([A("text-xs text-yellow-700 uppercase tracking-wider mb-2 font-light")]),l([D("CHOICE MODE ACTIVE")])),j(l([A("space-y-1")]),l([(()=>{if(e instanceof G){let r=e[0];return j(l([A("flex items-center text-yellow-800")]),l([mt(l([A("mr-2 font-medium")]),l([D("A:")])),mt(l([A("font-medium")]),l([D(ki(r))]))]))}else return j(l([A("text-yellow-600")]),l([D("A: No orb")]))})(),(()=>{if(t instanceof G){let r=t[0];return j(l([A("flex items-center text-yellow-800")]),l([mt(l([A("mr-2 font-medium")]),l([D("B:")])),mt(l([A("font-medium")]),l([D(ki(r))]))]))}else return j(l([A("text-yellow-600")]),l([D("B: No orb")]))})()]))]))}function bf(e){return j(l([]),l([j(l([A("text-xs text-yellow-700 uppercase tracking-wider mb-2 font-light")]),l([D("EXTRACTION LOG")])),j(l([A("space-y-1 max-h-32 overflow-y-auto")]),wn(e,(t,r)=>j(l([A("flex items-center text-yellow-800")]),l([mt(l([A("mr-2 w-6 text-right")]),l([D(L(r+1)+".")])),mt(l([A("font-medium")]),l([D(ki(t))]))]))))]))}function $f(e){return j(l([]),l([j(l([A("text-xs text-yellow-700 uppercase tracking-wider mb-2 font-light")]),l([D("CONTAINER CONTENTS")])),j(l([A("space-y-1 max-h-32 overflow-y-auto")]),wn(e,(t,r)=>j(l([A("flex items-center text-yellow-800")]),l([mt(l([A("mr-2 w-6 text-right")]),l([D(L(r+1)+".")])),mt(l([A("font-medium")]),l([D(ki(t))]))]))))]))}function xf(e,t,r,n,i,o){let s;Ye(i)?s=l([]):s=l([hf(i),j(l([A("mt-3 pt-3 border-t border-yellow-300")]),l([]))]);let c=s,f;e instanceof P?e[0]instanceof Nt?f=l([Oa(r,n),j(l([A("mt-3 pt-3 border-t border-yellow-300")]),l([]))]):f=l([]):e instanceof Y?e[0]instanceof Bt?f=l([Oa(r,n),j(l([A("mt-3 pt-3 border-t border-yellow-300")]),l([]))]):f=l([]):f=l([]);let _=f,b;Ye(o)?b=l([]):b=l([bf(o),j(l([A("mt-3 pt-3 border-t border-yellow-300")]),l([]))]);let E=b,d=l([$f(t)]);return z((()=>{let m=Z(c,_),S=Z(m,E);return Z(S,d)})())}function Ba(e,t,r,n,i,o,s){let a;e?a=l([j(l([A("mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded font-mono text-xs w-64")]),l([xf(r,t,n,i,o,s)]))]):a=l([]);let c=a;return j(l([A("fixed top-4 right-4 z-50")]),$(ht(l([A(e?"bg-yellow-600 hover:bg-yellow-700 text-white font-mono text-xs py-2 px-3 rounded border-2 border-yellow-500":"bg-gray-600 hover:bg-gray-700 text-white font-mono text-xs py-2 px-3 rounded border-2 border-gray-500"),$t(new _n)]),l([D(e?"DEV ON":"DEV OFF")])),c))}function Ys(e){return j(l([A("p-4 bg-red-50 border border-red-200 rounded text-center")]),l([j(l([A("text-sm text-red-700 uppercase tracking-wider mb-3 font-light")]),l([D("YOUR DESTINY AWAITS")])),j(l([A("grid grid-cols-5 gap-2")]),wn(e,(t,r)=>{let n=Na(t),i=n[0],o=n[1],s=n[2];return j(l([A("p-2 rounded text-xs text-center "+i+" "+o+" border "+s)]),l([j(l([A("font-bold mb-1")]),l([D(L(r+1))])),j(l([A("text-xs")]),l([D(fr(t))]))]))}))]))}function Ks(e,t){let r=ge(e)-ge(t);return j(l([A("p-4 bg-red-50 border border-red-200 rounded text-center")]),l([j(l([A("text-sm text-red-700 uppercase tracking-wider mb-3 font-light")]),l([D("YOUR DESTINY AWAITS")])),j(l([A("grid grid-cols-5 gap-2")]),wn(e,(n,i)=>{let o=i<r,s;o?s=["bg-gray-200","text-gray-400","border-gray-300"]:s=Na(n);let a=s,c=a[0],f=a[1],_=a[2];return j(l([A("p-2 rounded text-xs text-center transition-colors "+c+" "+f+" border "+_+(o?" opacity-50":""))]),l([j(l([A("font-bold mb-1")]),l([D(L(i+1))])),j(l([A("text-xs")]),l([D(fr(n))]))]))}))]))}function Ws(e){return ht(l([A(e?"bg-gray-400 text-gray-600 font-light py-4 px-6 rounded-lg w-full cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white font-light py-4 px-6 rounded-lg transition-colors tracking-wide w-full"),Jo(e),$t(new pn)]),l([D("EXTRACT FROM VOID")]))}function Xs(e){return j(l([A("p-4 bg-green-50 border border-green-200 rounded")]),l([j(l([A("text-sm text-green-700 uppercase tracking-wider mb-3 font-light")]),l([D("ACCUMULATED EFFECTS")])),j(l([A("space-y-2")]),l([e.health_gained>0?j(l([A("text-green-800")]),l([D("\u25C7 SYSTEMS RESTORED: +"+L(e.health_gained))])):j(l([]),l([])),e.damage_taken>0?j(l([A("text-red-800")]),l([D("\u25CB HAZARD DAMAGE: -"+L(e.damage_taken))])):j(l([]),l([])),e.points_gained>0?j(l([A("text-green-800")]),l([D("\u25CF ENHANCED DATA: +"+L(e.points_gained))])):j(l([]),l([])),Ye(e.special_orbs)?j(l([]),l([])):j(l([A("text-green-800")]),l([D("\u25C8 SPECIAL EFFECTS: "+L(ge(e.special_orbs))+" activated")]))]))]))}function _r(e,t,r,n){return Ia(l([Mn("\u25CB",_a,L(e),"text-black"),Mn("\u25CF",pa,L(t),"text-gray-700"),Mn("\u25CE",da,L(r),"text-gray-600"),Mn("\u25C9",ma,L(n),"text-gray-500")]))}function wf(){return z(l([re("MISSION BRIEFING",ra,"bg-blue-50 border-blue-200"),be(ea,new en),Me(ta,new tn)]))}function yf(){return z(l([re(na,ia,"bg-purple-50 border-purple-200"),Me("Data Sample",new He(new Mt)),Me("Hazard Sample",new He(new Dt)),Me("Health Sample",new He(new zt)),Me("Multiplier Sample",new He(new Lt)),Me("All Collector Sample",new He(new Ut)),Me("Point Collector Sample",new He(new Pt)),Me("Bomb Survivor Sample",new He(new qt)),Me("Shield Generator Sample",new He(new Ft)),Me("Choice Portal Sample",new He(new Ht)),Me("Fate Sample",new He(new $i)),Me("Both Status Effects",new sn),Me("Triple Choice Test",new on),Me("Risk Success Test",new ln),Me("Risk Failure Test",new an),Me("Risk Continue Test",new un),H(sa,new nn)]))}function vf(e,t){let r;e instanceof Mt?r="Data Sample":e instanceof Dt?r="Hazard Sample":e instanceof zt?r="Health Sample":e instanceof Lt?r="Multiplier Sample":e instanceof Ut?r="All Collector Sample":e instanceof Pt?r="Point Collector Sample":e instanceof qt?r="Bomb Survivor Sample":e instanceof Ft?r="Shield Generator Sample":e instanceof Ht?r="Choice Portal Sample":r="Fate Sample";let n=r,i;e instanceof Mt?i="Enter the data points this sample will provide":e instanceof Dt?i="Enter the system damage this sample will cause":e instanceof zt?i="Enter the health points this sample will restore":e instanceof Lt?i="Doubles the current point multiplier for all point-awarding samples":e instanceof Ut?i="Awards points equal to remaining samples in container":e instanceof Pt?i="Awards points equal to number of data samples left in container":e instanceof qt?i="Awards points equal to number of hazard samples encountered so far":e instanceof Ft?i="Activates hazard shield for 3 extractions, returning hazards to container":e instanceof Ht?i="Presents a choice between two samples from the container":i="High-risk sample that extracts 5 samples at once with 2\xD7 point bonus if survived";let o=i;return e instanceof Mt?z(l([re(n+" Configuration",o,"bg-blue-50 border-blue-200"),Si(t),be("Confirm Value",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Dt?z(l([re(n+" Configuration",o,"bg-blue-50 border-blue-200"),Si(t),be("Confirm Value",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof zt?z(l([re(n+" Configuration",o,"bg-blue-50 border-blue-200"),Si(t),be("Confirm Value",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Lt?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Ut?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Pt?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof qt?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Ft?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):e instanceof Ht?z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)])):z(l([re(n+" Configuration",o,"bg-purple-50 border-purple-200"),be("Start Test",new Ve(e)),H("Back to Selection",new Ge)]))}function pr(e){return Je(e,$a)}function kf(e,t,r,n,i){let o=ge(r),s=Ye(r),a=pr(n);return z(l([Re(e,t),nt(a),rt(o),Hs(s)]))}function Ef(e,t,r,n,i,o){let s=ge(r),a=pr(n),c=Us(i);return z(l([Re(e,t),nt(a),rt(s),Ei(ca,new fn),re(aa,c,"bg-green-50 border-green-200")]))}function Sf(e,t,r,n,i){let o=ge(r),s=pr(n);return z(l([Re(e,t),nt(s),rt(o),Vs(fa,new Rr),Xt(ua,ha)]))}function Tf(e,t,r,n,i){let o=ge(r),s=Ye(r),a=pr(n);return z(l([Re(e,t),nt(a),rt(o),Hs(s),H(la,new Ne),H(tt,new Be)]))}function Af(e,t,r,n,i,o){let s=ge(r),a=pr(n),c=Us(i);return z(l([Re(e,t),nt(a),rt(s),H("RESTART TESTING",new Ne),H(tt,new Be),re("TEST COMPLETE",c,"bg-green-50 border-green-200")]))}function Cf(e,t,r,n,i){let o=ge(r),s=pr(n);return z(l([Re(e,t),nt(s),rt(o),H("RESTART TESTING",new Ne),H(tt,new Be),Xt("TEST FAILED","ALL SYSTEMS COMPROMISED DURING TESTING. ANALYZE RESULTS AND RETRY.")]))}function jf(e,t,r,n,i,o,s){let a=ge(r),c=pr(n);if(o instanceof G)if(i instanceof G){let f=o[0],_=i[0];return z(l([Re(e,t),nt(c),rt(a),Gs("SELECT ONE SAMPLE:",fr(_),fr(f),new Vt(0),new Vt(1))]))}else return z(l([Re(e,t),nt(c),rt(a),Xt("CHOICE ERROR","No choice options available.")]));else return z(l([Re(e,t),nt(c),rt(a),Xt("CHOICE ERROR","No choice options available.")]))}function Of(e,t,r,n,i,o,s){let a=ge(r),c=pr(n);if(o instanceof G)if(i instanceof G){let f=o[0],_=i[0];return z(l([Re(e,t),nt(c),rt(a),Gs("SELECT ONE SAMPLE:",fr(_),fr(f),new Vt(0),new Vt(1)),H("RESTART TESTING",new Ne),H(tt,new Be)]))}else return z(l([Re(e,t),nt(c),rt(a),Xt("CHOICE ERROR","No choice options available."),H("RESTART TESTING",new Ne),H(tt,new Be)]));else return z(l([Re(e,t),nt(c),rt(a),Xt("CHOICE ERROR","No choice options available."),H("RESTART TESTING",new Ne),H(tt,new Be)]))}function If(){return z(l([re("THE FATES HAVE SPOKEN","A rare Fate Sample has been detected. This sample will extract 5 specimens simultaneously from the container. If you survive all extractions, any data samples will award double points. Do you dare face your destiny?","bg-red-50 border-red-200"),be("ACCEPT FATE",new Gt(!0)),H("DECLINE RISK",new Gt(!1))]))}function Nf(e){return z(l([re("BEHOLD YOUR DESTINY","The void has revealed the specimens that await you. Face them one by one, and survive to claim your doubled rewards.","bg-orange-50 border-orange-200"),Ys(e),be("FACE THE UNKNOWN",new Mr)]))}function Bf(e,t,r,n,i,o){let s=ge(r),a=Ye(r);return z(l([re("RISK MODE ACTIVE","You are in the void. Extract each specimen to survive and claim your enhanced rewards.","bg-red-50 border-red-200"),Ks(n,r),Re(e,t),Ws(a)]))}function Rf(e,t){return z(l([re("RISK EFFECTS ACCUMULATED","All specimens have been extracted from the void. The accumulated effects await consumption.","bg-orange-50 border-orange-200"),Xs(e),be("CONSUME",new Dr)]))}function Mf(e,t){return t>=e?z(l([re("YOU SURVIVED THE VOID","The void's power flows through you. Your gamble has paid off with enhanced rewards.","bg-green-50 border-green-200"),Ei("CONTINUE MISSION",new Yt)])):z(l([re("YOU SURVIVED THE VOID","The void's power flows through you. Your survival instincts have kept you alive.","bg-green-50 border-green-200"),be("CONTINUE MISSION",new Yt)]))}function Df(e,t,r){return z(l([Re(e,t),Vs("RESTART MISSION",new Rr),Xt("YOU RISKED OUT","THE VOID CONSUMED YOU. YOUR GAMBLE HAS ENDED IN DARKNESS.")]))}function zf(){return z(l([re("THE FATES HAVE SPOKEN","A rare Fate Sample has been detected. This sample will extract 5 specimens simultaneously from the container. If you survive all extractions, any data samples will award double points. Do you dare face your destiny?","bg-red-50 border-red-200"),be("ACCEPT RISK",new Gt(!0)),H("DECLINE RISK",new Gt(!1)),H("RESTART TESTING",new Ne),H(tt,new Be)]))}function Lf(e){return z(l([re("BEHOLD YOUR DESTINY","The void has revealed the specimens that await you. Face them one by one, and survive to claim your doubled rewards.","bg-orange-50 border-orange-200"),Ys(e),be("FACE THE UNKNOWN",new Mr),H("RESTART TESTING",new Ne),H(tt,new Be)]))}function Uf(e,t,r,n,i,o){let s=ge(r),a=Ye(r);return z(l([re("RISK MODE ACTIVE","You are in the void. Extract each specimen to survive and claim your enhanced rewards.","bg-red-50 border-red-200"),Ks(n,r),Re(e,t),Ws(a)]))}function Pf(e,t){return z(l([re("RISK EFFECTS ACCUMULATED","All specimens have been extracted from the void. The accumulated effects await consumption.","bg-orange-50 border-orange-200"),Xs(e),be("CONSUME",new Dr),H("RESTART TESTING",new Ne),H(tt,new Be)]))}function qf(e,t){return t>=e?z(l([re("YOU SURVIVED THE VOID","The void's power flows through you. Your gamble has paid off with enhanced rewards.","bg-green-50 border-green-200"),Ei("CONTINUE TEST",new Yt),H("RESTART TESTING",new Ne),H(tt,new Be)])):z(l([re("YOU SURVIVED THE VOID","The void's power flows through you. Your survival instincts have kept you alive.","bg-green-50 border-green-200"),be("CONTINUE TEST",new Yt),H("RESTART TESTING",new Ne),H(tt,new Be)]))}function Ff(e,t,r){return z(l([Re(e,t),H("RESTART TESTING",new Ne),H(tt,new Be),Xt("YOU RISKED OUT","THE VOID CONSUMED YOU. YOUR GAMBLE HAS ENDED IN DARKNESS.")]))}function Ra(e){let t,r=e.screen;if(r instanceof Rt)t=le(ae(l([ue(),wf()])));else if(r instanceof P){let i=r[0];if(i instanceof or)t=le(ae(l([ue(),yf()])));else if(i instanceof Zr){let o=i[0];t=le(ae(l([ue(),vf(o,e.input_value)])))}else i instanceof Ae?t=le(ae(l([ue(),xt(),_r(e.health,e.points,e.milestone,e.level),Tf(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.pulled_orbs)]))):i instanceof Jr?t=le(ae(l([ue(),xt(),_r(e.health,e.points,e.milestone,e.level),Af(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.milestone,e.pulled_orbs)]))):i instanceof Tr?t=le(ae(l([ue(),xt(),_r(e.health,e.points,e.milestone,e.level),Cf(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.pulled_orbs)]))):i instanceof Nt?t=le(ae(l([ue(),xt(),_r(e.health,e.points,e.milestone,e.level),Of(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.choice_orb_1,e.choice_orb_2,e.pulled_orbs)]))):i instanceof lr?t=le(ae(l([ue(),xt(),zf()]))):i instanceof Ar?t=le(ae(l([ue(),xt(),Lf(e.risk_orbs)]))):i instanceof Cr?t=le(ae(l([ue(),xt(),Uf(e.last_orb,e.last_orb_message,e.risk_orbs,e.risk_original_orbs,e.risk_health,e.risk_pulled_orbs)]))):i instanceof ar?t=le(ae(l([ue(),xt(),Pf(e.risk_accumulated_effects,e.risk_pulled_orbs)]))):i instanceof jr?t=le(ae(l([ue(),xt(),qf(e.milestone,e.points)]))):t=le(ae(l([ue(),xt(),Ff(e.last_orb,e.last_orb_message,e.risk_pulled_orbs)])))}else{let i=r[0];i instanceof Fe?t=le(ae(l([ue(),_r(e.health,e.points,e.milestone,e.level),kf(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.pulled_orbs)]))):i instanceof Qr?t=le(ae(l([ue(),_r(e.health,e.points,e.milestone,e.level),Ef(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.milestone,e.pulled_orbs)]))):i instanceof Or?t=le(ae(l([ue(),_r(e.health,e.points,e.milestone,e.level),Sf(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.pulled_orbs)]))):i instanceof Bt?t=le(ae(l([ue(),_r(e.health,e.points,e.milestone,e.level),jf(e.last_orb,e.last_orb_message,e.bag,e.active_statuses,e.choice_orb_1,e.choice_orb_2,e.pulled_orbs)]))):i instanceof ur?t=le(ae(l([ue(),If()]))):i instanceof Ir?t=le(ae(l([ue(),Nf(e.risk_orbs)]))):i instanceof Nr?t=le(ae(l([ue(),Bf(e.last_orb,e.last_orb_message,e.risk_orbs,e.risk_original_orbs,e.risk_health,e.risk_pulled_orbs)]))):i instanceof cr?t=le(ae(l([ue(),Rf(e.risk_accumulated_effects,e.risk_pulled_orbs)]))):i instanceof Br?t=le(ae(l([ue(),Mf(e.milestone,e.points)]))):t=le(ae(l([ue(),Df(e.last_orb,e.last_orb_message,e.risk_pulled_orbs)])))}return z(l([t,Ba(e.dev_mode,e.bag,e.screen,e.choice_orb_1,e.choice_orb_2,e.active_statuses,e.pulled_orbs)]))}var Vf="src/newmoon.gleam";function Ma(){let e,t=Kl(Sa,Ta,Ra);e=Wl(t,"#app",void 0);let r=e;if(!(r instanceof M))throw Ai("let_assert",Vf,"newmoon",6,"main","Pattern match failed, no pattern matched the value.",{value:r,start:66,end:174,pattern_start:77,pattern_end:82})}Ma();
